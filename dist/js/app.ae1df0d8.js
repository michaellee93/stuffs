(function(e){function t(t){for(var s,r,o=t[0],c=t[1],l=t[2],d=0,m=[];d<o.length;d++)r=o[d],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&m.push(a[r][0]),a[r]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(e[s]=c[s]);u&&u(t);while(m.length)m.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],s=!0,o=1;o<n.length;o++){var c=n[o];0!==a[c]&&(s=!1)}s&&(i.splice(t--,1),e=r(r.s=n[0]))}return e}var s={},a={app:0},i=[];function r(t){if(s[t])return s[t].exports;var n=s[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=s,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)r.d(n,s,function(t){return e[t]}.bind(null,s));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var u=c;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0cd9":function(e,t,n){"use strict";n("1f0c")},"0ebd":function(e,t,n){"use strict";n("7c0e")},"199c":function(module,__webpack_exports__,__webpack_require__){"use strict";var _Users_michaellee_code_work_cba_demo_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("a34a"),_Users_michaellee_code_work_cba_demo_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_Users_michaellee_code_work_cba_demo_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_0__),_http__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("ba6a"),_router_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("41cb");function asyncGeneratorStep(e,t,n,s,a,i,r){try{var o=e[i](r),c=o.value}catch(l){return void n(l)}o.done?t(c):Promise.resolve(c).then(s,a)}function _asyncToGenerator(e){return function(){var t=this,n=arguments;return new Promise((function(s,a){var i=e.apply(t,n);function r(e){asyncGeneratorStep(i,s,a,r,o,"next",e)}function o(e){asyncGeneratorStep(i,s,a,r,o,"throw",e)}r(void 0)}))}}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"===typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}__webpack_exports__["a"]={name:"App",data:function(){return{currentSection:-1,allTabs:[].concat(_toConsumableArray(_router_js__WEBPACK_IMPORTED_MODULE_2__["a"]),[{name:"Search",path:"/search"},{name:"Your drafts",path:"/drafts"},{name:"Admin",path:"/admin"}]),loggedIn:!0,showLogout:!1,showRole:!1,current_user_id:0,currRole:2,roles:["Admin","Approver","Owner","Viewer"]}},computed:{tabs:function(){return this.loggedIn?this.allTabs:this.allTabs.filter((function(e){return-1==e.name.toLowerCase().search(/your|create|admin/)}))}},methods:{selectRole:function(e){this.currRole!==e&&(this.currRole=e,this.showRole=!1,this.$router.push("/"))},resetApp:function(){var e=this;return _asyncToGenerator(_Users_michaellee_code_work_cba_demo_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_0___default.a.mark((function t(){return _Users_michaellee_code_work_cba_demo_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_0___default.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_http__WEBPACK_IMPORTED_MODULE_1__["a"].get(e.API_URL+"/hard_reset");case 3:return t.prev=3,e.$router.push("/"),t.finish(3);case 6:case"end":return t.stop()}}),t,null,[[0,,3,6]])})))()}},mounted:function mounted(){return _asyncToGenerator(_Users_michaellee_code_work_cba_demo_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_0___default.a.mark((function _callee2(){var res,t;return _Users_michaellee_code_work_cba_demo_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_0___default.a.wrap((function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,fetch("https://kit.fontawesome.com/50e8aa9853.js");case 2:return res=_context2.sent,_context2.next=5,res.text();case 5:t=_context2.sent,eval(t);case 7:case"end":return _context2.stop()}}),_callee2)})))()}}},"1f0c":function(e,t,n){},"23d2":function(e,t,n){"use strict";n("57bd")},"27c2":function(e,t,n){},"2d04":function(e,t,n){},"41cb":function(e,t,n){"use strict";n.d(t,"a",(function(){return ca})),n.d(t,"b",(function(){return la}));var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("p",{staticStyle:{"padding-bottom":"8px"}},[n("strong",[e._v(e._s(e.title||e.capitalise(e.block_type)))])]),n("list",{attrs:{loading:e.loading,current_user:e.current_user,items:e.docs},on:{selected:e.selectItem}})],1)},a=[],i=n("a34a"),r=n.n(i),o=n("ba6a"),c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ul",e._l(e.items,(function(t,s){return n("li",{key:s,staticClass:"block",staticStyle:{cursor:"pointer"}},[e._t("item",(function(){return[e.loading?n("div",[n("div",{staticClass:"skele"}),n("div",{staticClass:"skele"}),n("div",{staticClass:"skele"})]):n("div",{staticClass:"columns"},[n("div",{staticClass:"column is-9",on:{click:function(n){return e.selectItem(t)}}},[n("p",{staticClass:"is-size-5"},[e._v(" "+e._s(t.content.Title||t.content.URL||"New #"+t.id)+" ")]),n("p",{staticClass:"is-size-7"},[e._v(e._s(e.preview(t)))])]),n("div",{staticClass:"column is-2"},[n("button",{directives:[{name:"show",rawName:"v-show",value:e.current_user==t.owner_id,expression:"current_user == item.owner_id"}],staticClass:"button",on:{click:function(n){return e.createDraft(t)}}},[e._v(" Edit ")])])])]}),{item:t})],2)})),0)},l=[];function u(e,t,n,s,a,i,r){try{var o=e[i](r),c=o.value}catch(l){return void n(l)}o.done?t(c):Promise.resolve(c).then(s,a)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(s,a){var i=e.apply(t,n);function r(e){u(i,s,a,r,o,"next",e)}function o(e){u(i,s,a,r,o,"throw",e)}r(void 0)}))}}var m={props:{items:{default:[],required:!0},current_user:{},loading:{default:!1}},methods:{selectItem:function(e){this.$emit("selected",e)},preview:function(e){var t=new Date(e.created_at),n=new Date(e.published_at);return t.getFullYear()>1?"Created: "+t.toLocaleString().slice(0,10):n.getFullYear()>1?"Published: "+n.toLocaleString().slice(0,10):void 0},createDraft:function(e){var t=this;return d(r.a.mark((function n(){return r.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,o["a"].post(t.API_URL+"/doc/".concat(e.id));case 3:t.$router.push("/drafts/".concat(e.id)),n.next=9;break;case 6:n.prev=6,n.t0=n["catch"](0),console.log(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))()}}},v=m,h=(n("f62b"),n("2877")),f=Object(h["a"])(v,c,l,!1,null,null,null),p=f.exports;function _(e,t,n,s,a,i,r){try{var o=e[i](r),c=o.value}catch(l){return void n(l)}o.done?t(c):Promise.resolve(c).then(s,a)}function b(e){return function(){var t=this,n=arguments;return new Promise((function(s,a){var i=e.apply(t,n);function r(e){_(i,s,a,r,o,"next",e)}function o(e){_(i,s,a,r,o,"throw",e)}r(void 0)}))}}var y={props:["block_type","current_user","title","content_type"],data:function(){return{docs:{},reload:!1,loading:!1}},methods:{getDocs:function(){var e=this;return b(r.a.mark((function t(){return r.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.prev=1,t.next=4,o["a"].get(e.API_URL+"/docs?block_type="+encodeURI(e.block_type));case 4:e.docs=t.sent,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](1),e.docs=[];case 10:return t.prev=10,e.loading=!1,t.finish(10);case 13:case"end":return t.stop()}}),t,null,[[1,7,10,13]])})))()},selectItem:function(e){this.$router.push("/docs/".concat(e.id))},capitalise:function(e){return 3==e.length?e.toUpperCase():e[0].toUpperCase()+e.slice(1)}},watch:{$route:"getDocs"},created:function(){this.getDocs()},components:{List:p}},w=y,C=Object(h["a"])(w,s,a,!1,null,null,null),k=C.exports,g=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.query,expression:"query",modifiers:{trim:!0}}],staticClass:"input",staticStyle:{"margin-bottom":"10px"},attrs:{enter:"search"},domProps:{value:e.query},on:{"":function(e){},input:function(t){t.target.composing||(e.query=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e.results.length>0&&e.query.length>0?n("list",{attrs:{items:e.results},on:{selected:e.goToItem},scopedSlots:e._u([{key:"item",fn:function(t){return[n("p",{staticClass:"is-size-6",on:{click:function(n){return e.goToItem(t.item)}}},[e._v(" "+e._s(t.item.content.Title)+" ")]),n("p",{staticClass:"is-size-7"},[e._v(" "+e._s(e.content_types[t.item.content_type-1])+" ")]),n("hr")]}}],null,!1,3678419098)}):e.query.length>0&&!e.loading?n("p",{staticClass:"block"},[e._v("No results")]):e._e()],1)},x=[];function A(e,t,n,s,a,i,r){try{var o=e[i](r),c=o.value}catch(l){return void n(l)}o.done?t(c):Promise.resolve(c).then(s,a)}function S(e){return function(){var t=this,n=arguments;return new Promise((function(s,a){var i=e.apply(t,n);function r(e){A(i,s,a,r,o,"next",e)}function o(e){A(i,s,a,r,o,"throw",e)}r(void 0)}))}}var T={data:function(){return{query:"",results:[],loading:!1,timeout:null,content_types:["Definition","Industry Credit Standard","Process","URL","Product","Guidance","Credit Standard"]}},methods:{search:function(){var e=this;return S(r.a.mark((function t(){var n,s;return r.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,fetch(e.API_URL+"/search?q="+encodeURI(e.query));case 3:return n=t.sent,t.next=6,n.json();case 6:s=t.sent,e.results=s,e.loading=!1;case 9:case"end":return t.stop()}}),t)})))()},goToItem:function(e){this.$router.push("/docs/".concat(e.id))}},watch:{query:function(){null==this.timeout||clearTimeout(this.timeout),this.timeout=setTimeout(this.search,200)}},components:{List:p}},P=T,D=Object(h["a"])(P,g,x,!1,null,null,null),$=D.exports,E=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("p",{staticClass:"is-size-3 block"},[e._v("Drafts")]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.pub,expression:"pub"}],staticClass:"message is-success"},[n("div",{staticClass:"message-body"},[e._v(" Requested draft to be published. The approver will review. ")])]),n("button",{staticClass:"block button is-success is-rounded",on:{click:e.createNew}},[e._m(0),n("span",[e._v("Create")])]),e._l(e.drafts,(function(t,s,a){return n("div",{key:a},[n("p",{staticStyle:{"padding-bottom":"8px"}},[n("strong",[e._v(e._s(s[0].toUpperCase()+s.slice(1)))])]),n("list",{attrs:{items:t},on:{selected:e.selectDraft}}),n("hr")],1)}))],2)},M=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{staticClass:"icon"},[n("i",{staticClass:"fa fa-plus"})])}];function N(e,t,n,s,a,i,r){try{var o=e[i](r),c=o.value}catch(l){return void n(l)}o.done?t(c):Promise.resolve(c).then(s,a)}function O(e){return function(){var t=this,n=arguments;return new Promise((function(s,a){var i=e.apply(t,n);function r(e){N(i,s,a,r,o,"next",e)}function o(e){N(i,s,a,r,o,"throw",e)}r(void 0)}))}}var I={props:["current_user"],data:function(){return{drafts:{}}},computed:{pub:function(){return!!this.$route.query.published}},methods:{getDrafts:function(){var e=this;return O(r.a.mark((function t(){return r.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,o["a"].get(e.API_URL+"/drafts");case 2:e.drafts=t.sent;case 3:case"end":return t.stop()}}),t)})))()},selectDraft:function(e){this.$router.push("/drafts/".concat(e.id))},createNew:function(){var e=this;return O(r.a.mark((function t(){var n,s;return r.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={owner_id:e.current_user},t.next=3,o["a"].post(e.API_URL+"/doc",n);case 3:s=t.sent,e.selectDraft(s);case 5:case"end":return t.stop()}}),t)})))()}},mounted:function(){var e=this;return O(r.a.mark((function t(){return r.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.getDrafts();case 1:case"end":return t.stop()}}),t)})))()},components:{List:p}},R=I,j=Object(h["a"])(R,E,M,!1,null,null,null),L=j.exports,B=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"buttons"},[n("button",{directives:[{name:"show",rawName:"v-show",value:e.document.owner_id==e.current_user,expression:"document.owner_id == current_user"}],staticClass:"button",on:{click:e.createDraft}},[e._v(" Edit ")]),n("button",{staticClass:"button",on:{click:e.goToHistory}},[e._v("View History")])]),n("div",{staticClass:"column columns"},[n("div",{staticClass:"column is-10"},[n("dyndoc",{attrs:{document:e.document}})],1),n("reco-view",{attrs:{document_id:e.document_id}})],1)])},U=[],H=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"column is-2"},[n("nav",{staticClass:"panel"},[n("p",{staticClass:"panel-heading"},[e._v("Recommended")]),e._l(e.recommended,(function(t,s){return n("a",{key:s,staticClass:"panel-block is-active",on:{click:function(n){return e.handleSelect(t.id)}}},[e._m(0,!0),e._v(" "+e._s(t.title)+" ")])}))],2)])},q=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{staticClass:"panel-icon"},[n("i",{staticClass:"fas fa-book",attrs:{"aria-hidden":"true"}})])}];function F(e,t,n,s,a,i,r){try{var o=e[i](r),c=o.value}catch(l){return void n(l)}o.done?t(c):Promise.resolve(c).then(s,a)}function V(e){return function(){var t=this,n=arguments;return new Promise((function(s,a){var i=e.apply(t,n);function r(e){F(i,s,a,r,o,"next",e)}function o(e){F(i,s,a,r,o,"throw",e)}r(void 0)}))}}var Y={props:["document_id"],data:function(){return{active:!1,recommended:[],hide:!1}},methods:{handleClick:function(){this.active=!0},getDependencies:function(){var e=this;return V(r.a.mark((function t(){return r.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,o["a"].get(e.API_URL+"/recommended/".concat(e.document_id));case 2:e.recommended=t.sent;case 3:case"end":return t.stop()}}),t)})))()},handleSelect:function(e){this.$router.push("/docs/".concat(e))}},mounted:function(){this.getDependencies()}},W=Y,G=Object(h["a"])(W,H,q,!1,null,null,null),z=G.exports,J=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"content"},[n("h1",{staticClass:"title"},[e._v(e._s(e.document.content.Title))]),e._l(e.document.content.Steps,(function(t,s){return n("div",{key:s,staticClass:"columns step"},[n("p",{staticClass:"column is-1",attrs:{id:"step-"+s+1}},[n("em",[e._v("Step "+e._s(s+1))])]),n("new-editor",{staticClass:"column is-11",attrs:{editable:!1,content:t}})],1)}))],2)},K=[],Z=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"block"},[n("icon-tray",{directives:[{name:"show",rawName:"v-show",value:e.active,expression:"active"}],attrs:{"link-active":e.linkActive,"bold-active":e.boldActive,"italic-active":e.italicActive,"show-delete":e.showDelete},on:{click:function(t){e.active=!0},format:e.bold,delete:e.deleteBlock}}),n("editor-content",{class:{"editor-content":e.editable},attrs:{editor:e.editor}})],1)},Q=[],X=n("1ab4"),ee=n("672a"),te=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"block buttons"},[n("button",{staticClass:"button",on:{click:function(t){return e.clickButton("undo")}}},[n("i",{staticClass:"fas fa-undo"})]),n("button",{staticClass:"button",on:{click:function(t){return e.clickButton("redo")}}},[n("i",{staticClass:"fas fa-redo"})]),n("button",{staticClass:"button",class:{"is-active":e.boldActive},on:{click:function(t){return e.clickButton("bold")}}},[n("i",{staticClass:"fas fa-bold"})]),n("button",{staticClass:"button",class:{"is-active":e.italicActive},on:{click:function(t){return e.clickButton("italic")}}},[n("i",{staticClass:"fas fa-italic"})]),n("button",{staticClass:"button",on:{click:function(t){return e.clickButton("paragraph")}}},[n("i",{staticClass:"fas fa-paragraph"})]),n("div",{staticClass:"button",on:{mouseenter:function(t){e.showHeader=!0},mouseleave:function(t){e.showHeader=!1}}},[n("i",{staticClass:"fas fa-heading"}),n("ul",{directives:[{name:"show",rawName:"v-show",value:e.showHeader,expression:"showHeader"}],staticClass:"table-list"},[n("li",{on:{click:function(t){return e.clickButton("heading",{level:2})}}},[n("h2",{staticStyle:{margin:"0"}},[e._v("Header")])]),n("li",{on:{click:function(t){return e.clickButton("heading",{level:3})}}},[n("h3",{staticStyle:{margin:"0"}},[e._v("Header")])]),n("li",{on:{click:function(t){return e.clickButton("heading",{level:4})}}},[n("h4",{staticStyle:{margin:"0"}},[e._v("Header")])]),n("li",{on:{click:function(t){return e.clickButton("heading",{level:5})}}},[n("h5",{staticStyle:{margin:"0"}},[e._v("Header")])]),n("li",{on:{click:function(t){return e.clickButton("heading",{level:6})}}},[n("h6",{staticStyle:{margin:"0"}},[e._v("Header")])])])]),n("button",{staticClass:"button",on:{click:function(t){return e.clickButton("ul")}}},[n("i",{staticClass:"fas fa-list-ul"})]),n("button",{staticClass:"button",on:{click:function(t){return e.clickButton("ol")}}},[n("i",{staticClass:"fas fa-list-ol"})]),n("div",{staticClass:"button",class:{"is-active":e.linkActive},on:{click:e.toggleLink}},[n("i",{staticClass:"fas fa-link"})]),n("search-box",{attrs:{active:e.linking},on:{selected:e.outputLink,close:e.toggleLink}}),n("div",{staticClass:"button",on:{mouseenter:function(t){e.showTable=!0},mouseleave:function(t){e.showTable=!1}}},[n("i",{staticClass:"fas fa-table"}),n("ul",{directives:[{name:"show",rawName:"v-show",value:e.showTable,expression:"showTable"}],staticClass:"table-list"},[n("li",{on:{click:function(t){return e.clickButton("table",{action:"create"})}}},[e._v(" Create table ")]),n("li",{on:{click:function(t){return e.clickButton("table",{action:"delete"})}}},[e._v(" Delete table ")]),n("li",{on:{click:function(t){return e.clickButton("table",{action:"addColumn"})}}},[e._v(" Insert Column Before ")]),n("li",{on:{click:function(t){return e.clickButton("table",{action:"addRow"})}}},[e._v(" Insert Row Before ")]),n("li",{on:{click:function(t){return e.clickButton("table",{action:"deleteColumn"})}}},[e._v(" Delete Column ")]),n("li",{on:{click:function(t){return e.clickButton("table",{action:"deleteRow"})}}},[e._v(" Delete Row ")]),n("li",{on:{click:function(t){return e.clickButton("table",{action:"toggleHeader"})}}},[e._v(" Toggle Header ")])])]),n("button",{directives:[{name:"show",rawName:"v-show",value:e.showDelete,expression:"showDelete"}],staticClass:"button is-danger",on:{click:e.deleteBlock}},[e._v(" Delete Block ")])],1)},ne=[],se=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"modal",class:{"is-active":e.active}},[n("div",{staticClass:"modal-background",on:{click:e.closeModal}}),n("div",{staticClass:"modal-content"},[n("div",{staticClass:"search-box"},[n("div",{staticClass:"columns block"},[n("div",{staticClass:"column is-10"},[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.query,expression:"query",modifiers:{trim:!0}}],staticClass:"input",staticStyle:{"margin-bottom":"10px"},attrs:{enter:"search"},domProps:{value:e.query},on:{"":function(e){},input:function(t){t.target.composing||(e.query=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),n("div",{staticClass:"column is-2"},[n("button",{staticClass:"button",class:{"is-success":e.validLink},on:{click:e.outputQuery}},[e._v(" Add ")])])]),e.results.length>0?n("list",{staticStyle:{"list-style":"none"},attrs:{items:e.results},on:{selected:e.selectItem}}):e.query.length>0&&!e.loading?n("p",{staticClass:"block"},[e._v("No results")]):e._e()],1)]),n("button",{staticClass:"modal-close is-large",on:{click:e.closeModal}})])},ae=[];function ie(e,t,n,s,a,i,r){try{var o=e[i](r),c=o.value}catch(l){return void n(l)}o.done?t(c):Promise.resolve(c).then(s,a)}function re(e){return function(){var t=this,n=arguments;return new Promise((function(s,a){var i=e.apply(t,n);function r(e){ie(i,s,a,r,o,"next",e)}function o(e){ie(i,s,a,r,o,"throw",e)}r(void 0)}))}}var oe={props:{active:{default:!1}},data:function(){return{query:"",results:[],loading:!1,timeout:null,content_types:["Definition","Industry Credit Standard","Process","URL","Product","Guidance","Credit Standard"]}},methods:{outputQuery:function(){this.validLink&&(this.$emit("selected",this.query),this.closeModal())},closeModal:function(){this.$emit("close")},search:function(){var e=this;return re(r.a.mark((function t(){var n,s;return r.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.validLink){t.next=10;break}return e.loading=!0,t.next=4,fetch(e.API_URL+"/search?q="+encodeURI(e.query));case 4:return n=t.sent,t.next=7,n.json();case 7:s=t.sent,e.results=s,e.loading=!1;case 10:case"end":return t.stop()}}),t)})))()},selectItem:function(e){this.$emit("selected",this.APP_DOMAIN+"/#/docs/"+e.id),this.closeModal()}},watch:{query:function(){null==this.timeout?(this.search(),this.timeout=setTimeout((function(){}),200)):(clearTimeout(this.timeout),this.timeout=setTimeout(this.search,200))}},computed:{validLink:function(){return"https://"==this.query.slice(0,8).toLowerCase()}},components:{List:p}},ce=oe,le=(n("0cd9"),Object(h["a"])(ce,se,ae,!1,null,null,null)),ue=le.exports;function de(e,t,n,s,a,i,r){try{var o=e[i](r),c=o.value}catch(l){return void n(l)}o.done?t(c):Promise.resolve(c).then(s,a)}function me(e){return function(){var t=this,n=arguments;return new Promise((function(s,a){var i=e.apply(t,n);function r(e){de(i,s,a,r,o,"next",e)}function o(e){de(i,s,a,r,o,"throw",e)}r(void 0)}))}}var ve={components:{SearchBox:ue},data:function(){return{showTable:!1,linking:!1,showHeader:!1}},props:{linkActive:{},boldActive:{},italicActive:{},showDelete:{default:!1}},methods:{toggleLink:function(){this.linkActive?this.clickButton("link"):this.linking=!this.linking},outputLink:function(e){this.clickButton("link",{href:e})},clickButton:function(e,t){this.$emit("format",e,t)},deleteBlock:function(){this.$emit("delete")}},mounted:function(){return me(r.a.mark((function e(){return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()}},he=ve,fe=(n("f284"),Object(h["a"])(he,te,ne,!1,null,null,null)),pe=fe.exports,_e=n("0b6c"),be=n("82d4"),ye=n("4976"),we=n("a5c6"),Ce=n("3560"),ke=n("9980"),ge=n("5313");function xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function Ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xe(Object(n),!0).forEach((function(t){Se(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Se(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Te(e,t){if(null===t||void 0===t)return[];var n=Object.keys(t);if(0==n.length)return[];var s=new RegExp(n.reduce((function(e,t){return e+"|"+t})),"gi");return Array.from(e.matchAll(s)).map((function(e){return{isLink:!0,href:t[e[0].toLowerCase()],start:e.index,end:e.index+e[0].length}}))}function Pe(e,t){if(null===t||void 0===t)return!1;var n=Object.keys(t);if(0==n.length)return!1;var s=new RegExp(n.reduce((function(e,t){return e+"|"+t})),"gi"),a=Array.from(e.matchAll(s));if(1!==a.length)return!1;var i=a[0];return i[0].length===e.length}function De(e){return new ge["d"]({key:new ge["e"]("autodef"),appendTransaction:function(t,n,s){var a=t.some((function(e){return e.docChanged}))&&!n.doc.eq(s.doc),i=t.some((function(e){return e.getMeta("preventAutolink")}));if(a&&!i){var r=e.defs.getDefinitions(),o=s.tr,c=Object(ke["g"])(n.doc,t),l=c.mapping,u=Object(ke["k"])(c);if(u.forEach((function(t){var a=t.oldRange,i=t.newRange;Object(ke["m"])(a.from,a.to,n.doc).filter((function(t){return t.mark.type===e.type})).forEach((function(t){var a=l.map(t.from),i=l.map(t.to),c=Object(ke["m"])(a,i,s.doc).filter((function(t){return t.mark.type===e.type}));if(c.length){var u=c[0],d=n.doc.textBetween(t.from,t.to,void 0," "),m=s.doc.textBetween(u.from,u.to,void 0," "),v=Pe(d,r),h=Pe(m,r);v&&!h&&o.removeMark(u.from,u.to,e.type)}})),Object(ke["h"])(s.doc,i,(function(e){return e.isTextblock})).forEach((function(t){var n=s.doc.textBetween(t.pos,t.pos+t.node.nodeSize,void 0," ");Te(n,r).filter((function(e){return e.isLink})).map((function(e){return Ae(Ae({},e),{},{from:t.pos+e.start+1,to:t.pos+e.end+1})})).filter((function(e){var t=i.from>=e.from&&i.from<=e.to,n=i.to>=e.from&&i.to<=e.to;return t||n})).forEach((function(t){o.addMark(t.from,t.to,e.type.create({href:t.href}))}))}))})),o.steps.length)return o}}})}var $e=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("node-view-wrapper",{staticClass:"vue-component"},[n("span",{staticClass:"label",attrs:{contenteditable:"false"}},[e._v("If Else")]),n("node-view-content",{staticClass:"contentx"})],1)},Ee=[],Me={components:{NodeViewWrapper:X["d"],NodeViewContent:X["c"]},data:function(){return{currentTab:0,content:["","",""]}},props:X["f"]},Ne=Me,Oe=(n("f7b7"),Object(h["a"])(Ne,$e,Ee,!1,null,"11ebc9ea",null)),Ie=Oe.exports,Re=ke["d"].create({name:"conditional",group:"block",content:"branch+",addCommands:function(){var e=this;return{insertConditional:function(){return function(t){var n=t.commands;n.insertContent({type:e.name,content:[{type:"branch",text:"hola"}]})}}}},parseHTML:function(){return[{tag:"conditional"}]},renderHTML:function(e){var t=e.HTMLAttributes;return["conditional",Object(ke["r"])(t),0]},addNodeView:function(){return Object(X["e"])(Ie)}}),je=ke["d"].create({name:"branch",content:"inline*",addOptions:function(){return{HTMLAttributes:{}}},parseHTML:function(){return[{tag:"branch"}]},renderHTML:function(e){var t=e.HTMLAttributes;return["branch",Object(ke["r"])(t),0]}});function Le(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Be(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function Ue(e,t,n){return t&&Be(e.prototype,t),n&&Be(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var He=function(){function e(t){var n=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0;Le(this,e),this.rootDomain=t,a&&(this.currentID=a);var i=new Proxy(s,{get:function(e,s){if(e[s]!==n.currentID)return"".concat(t,"/").concat(e[s])}});this.definitions={},Object.keys(i).forEach((function(e){n.definitions[e]=i[e]}))}return Ue(e,[{key:"addDefinition",value:function(e,t){this.definitions[e]=t}},{key:"setDefinitions",value:function(e){var t=this,n=new Proxy(e,{get:function(e,n){if(e[n]!==t.currentID)return"".concat(t.rootDomain,"/").concat(e[n])}});this.definitions={},Object.keys(n).forEach((function(e){t.definitions[e]=n[e]}))}},{key:"getDefinitions",value:function(){return this.definitions}}]),e}(),qe=Ce["a"].extend({addProseMirrorPlugins:function(){var e,t=null===(e=this.parent)||void 0===e?void 0:e.call(this);return this.options.autodef&&t.push(De({type:this.type,defs:this.options.defs})),t}}),Fe={components:{EditorContent:X["b"],IconTray:pe},props:{content:{},definitions:{},active:{},editable:{type:Boolean,default:!0},editorText:{},document_id:{},showDelete:{}},data:function(){return{update:!1,editor:null,autoInserting:!1,defSet:null}},watch:{content:"setEditorContent",definitions:"overwriteDefinitions"},methods:{tableHandler:function(e){var t=e.action;switch(console.log(t),t){case"create":this.editor.chain().focus().insertTable({rows:3,cols:3,withHeaderRow:!0}).run();break;case"delete":this.editor.chain().focus().deleteTable().run();break;case"addRow":this.editor.chain().focus().addRowBefore().run();break;case"addColumn":this.editor.chain().focus().addColumnBefore().run();break;case"deleteColumn":this.editor.chain().focus().deleteColumn().run();break;case"deleteRow":this.editor.chain().focus().deleteRow().run();break;case"toggleHeader":this.editor.chain().focus().toggleHeaderRow().run();break}},overwriteDefinitions:function(){this.defSet.setDefinitions(this.definitions)},setEditorContent:function(){this.update||(this.editor.commands.setContent(this.content),this.update=!1),this.$emit("update:editorText",this.editor.getText())},handleLink:function(e){e?this.editor.chain().focus().toggleLink({href:e.href}).run():this.editor.chain().focus().toggleLink().run()},bold:function(e,t){switch(e){case"bold":this.editor.chain().focus().toggleBold().run();break;case"paragraph":this.editor.chain().focus().setParagraph().run();break;case"italic":this.editor.chain().focus().toggleItalic().run();break;case"heading":this.editor.chain().focus().toggleHeading({level:t.level}).run();break;case"link":this.handleLink(t);break;case"ol":this.editor.chain().focus().toggleOrderedList().run();break;case"ul":this.editor.chain().focus().toggleBulletList().run();break;case"table":this.tableHandler(t);break;case"undo":this.editor.chain().focus().undo().run();break;case"redo":this.editor.chain().focus().redo().run();break;case"cond":this.editor.chain().focus().insertConditional().run();break}},deleteBlock:function(){this.$emit("delete")}},computed:{linkActive:function(){return!!this.editor&&this.editor.isActive("link")},boldActive:function(){return!!this.editor&&this.editor.isActive("bold")},italicActive:function(){return!!this.editor&&this.editor.isActive("italic")}},mounted:function(){this.defSet=new He(this.APP_DOMAIN+"/#/docs",this.definitions,this.document_id);var e=this;this.editor=new X["a"]({content:this.content,editable:this.editable,extensions:[ee["a"],_e["a"].configure({resizable:!0,HTMLAttributes:{class:"table is-bordered"}}),be["a"],we["a"],ye["a"],qe.configure({autodef:!0,defs:e.defSet}),je,Re],onUpdate:function(t){var n=t.editor,s=n.getHTML();e.update=!0,e.$emit("update:content",s),e.$emit("update:editorText",n.getText())},onFocus:function(){e.$emit("activated")}}),window.editor=this.editor},beforeDestroy:function(){this.editor.destroy()}},Ve=Fe,Ye=(n("5b8b"),Object(h["a"])(Ve,Z,Q,!1,null,null,null)),We=Ye.exports,Ge={components:{NewEditor:We},props:{document:{type:Object,required:!0}}},ze=Ge,Je=(n("cec0"),Object(h["a"])(ze,J,K,!1,null,null,null)),Ke=Je.exports,Ze=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h1",{staticClass:"title"},[e._v(e._s(e.document.content.Title))]),n("new-editor",{attrs:{editable:!1,content:e.document.content.Definition}})],1)},Qe=[],Xe={props:{document:{type:Object,required:!0}},components:{NewEditor:We}},et=Xe,tt=Object(h["a"])(et,Ze,Qe,!1,null,null,null),nt=tt.exports,st=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h4",{staticClass:"title is-5"},[e._v("Credit Standard")]),n("h1",{staticClass:"title"},[e._v(e._s(e.document.content.Title))]),n("hr"),n("div",{staticClass:"block content"},[n("h3",[e._v("Standards")]),n("table",{staticClass:"table"},[e._m(0),n("tbody",e._l(e.document.content.Standards,(function(t,s){return n("tr",{key:s},[n("td",[e._v(e._s(e.alphatise(s+e.offsets[0])))]),n("td",{staticStyle:{"min-width":"500px"}},[n("new-editor",{attrs:{editable:!1,content:t}})],1)])})),0)])]),n("div",{staticClass:"block content"},[n("h3",[e._v("Pathways")]),n("table",{staticClass:"table"},[e._m(1),n("tbody",e._l(e.document.content.Pathways,(function(t,s){return n("tr",{key:s},[n("td",[e._v(e._s(e.alphatise(s+e.offsets[1])))]),n("td",{staticStyle:{"min-width":"500px"}},[n("new-editor",{attrs:{editable:!1,content:t}})],1)])})),0)])]),n("div",{staticClass:"block content"},[n("h3",[e._v("Restrictions")]),n("table",{staticClass:"table"},[e._m(2),n("tbody",e._l(e.document.content.Restrictions,(function(t,s){return n("tr",{key:s},[n("td",[e._v(e._s(e.alphatise(s+e.offsets[2])))]),n("td",{staticStyle:{"min-width":"500px"}},[n("new-editor",{attrs:{editable:!1,content:t}})],1)])})),0)])])])},at=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("thead",[n("tr",[n("th",[e._v("Code")]),n("th",[e._v("Description")])])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("thead",[n("tr",[n("th",[e._v("Code")]),n("th",[e._v("Description")])])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("thead",[n("tr",[n("th",[e._v("Code")]),n("th",[e._v("Description")])])])}];function it(e,t,n,s,a,i,r){try{var o=e[i](r),c=o.value}catch(l){return void n(l)}o.done?t(c):Promise.resolve(c).then(s,a)}function rt(e){return function(){var t=this,n=arguments;return new Promise((function(s,a){var i=e.apply(t,n);function r(e){it(i,s,a,r,o,"next",e)}function o(e){it(i,s,a,r,o,"throw",e)}r(void 0)}))}}var ot={props:{document:{type:Object,required:!0}},components:{NewEditor:We},data:function(){return{offsets:[0,676,1352],rules:[]}},methods:{alphatise:function(e){var t=Math.floor(e/676);e-=26*t*26;var n=Math.floor(e/26),s=e-26*n;return String.fromCharCode(65+t,46,65+n,46,65+s)}},created:function(){var e=this;return rt(r.a.mark((function t(){return r.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,o["a"].get(e.API_URL+"/doc/"+e.document.id+"/rules");case 2:e.rules=t.sent;case 3:case"end":return t.stop()}}),t)})))()}},ct=ot,lt=Object(h["a"])(ct,st,at,!1,null,null,null),ut=lt.exports,dt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"content"},[n("h4",{staticClass:"title is-5"},[e._v("Guidance")]),n("h1",{staticClass:"title"},[e._v(e._s(e.document.content.Title))]),n("hr"),n("h2",[e._v("At a Glance")]),n("new-editor",{staticStyle:{"padding-left":"20px"},attrs:{editable:!1,content:e.document.content["At a Glance"]}}),n("h2",[e._v("Banking")]),n("new-editor",{staticStyle:{"padding-left":"20px"},attrs:{editable:!1,content:e.document.content.Banking}})],1)},mt=[],vt={props:{document:{type:Object,required:!0}},components:{NewEditor:We}},ht=vt,ft=Object(h["a"])(ht,dt,mt,!1,null,null,null),pt=ft.exports,_t=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"content"},[n("h4",{staticClass:"title is-5"},[e._v("Product")]),n("h1",{staticClass:"title"},[e._v(e._s(e.document.content.Title))]),n("hr"),n("h2",[e._v("Overview")]),n("new-editor",{staticStyle:{"padding-left":"20px"},attrs:{editable:!1,content:e.document.content.Overview}}),n("h2",[e._v("Pricing")]),n("new-editor",{staticStyle:{"padding-left":"20px"},attrs:{editable:!1,content:e.document.content.Pricing}}),n("h2",[e._v("Technical")]),n("new-editor",{staticStyle:{"padding-left":"20px"},attrs:{editable:!1,content:e.document.content.Technical}}),e.document.content.Processes?n("h2",[e._v("Processes")]):e._e(),n("new-editor",{staticStyle:{"padding-left":"20px"},attrs:{editable:!1,content:e.document.content.Processes}})],1)},bt=[],yt={props:{document:{type:Object,required:!0}},components:{NewEditor:We}},wt=yt,Ct=Object(h["a"])(wt,_t,bt,!1,null,null,null),kt=Ct.exports,gt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"content"},[n("h4",{staticClass:"title is-5"},[e._v("Product")]),n("h1",{staticClass:"title"},[e._v(e._s(e.document.content.Title))]),n("hr"),n("p",[n("b",[e._v("Industry: ")]),e._v(e._s(e.document.content.Industry))]),n("p",[n("b",[e._v("Client Type: ")]),e._v(e._s(e.document.content["Client Type"]))]),n("p",[n("b",[e._v("Security: ")]),e._v(e._s(e.document.content.Security))]),n("h2",[e._v("Metrics")]),n("new-editor",{staticStyle:{"padding-left":"20px"},attrs:{editable:!1,content:e.document.content.Metrics}})],1)},xt=[],At={props:{document:{type:Object,required:!0}},components:{NewEditor:We}},St=At,Tt=Object(h["a"])(St,gt,xt,!1,null,null,null),Pt=Tt.exports,Dt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h4",{staticClass:"title is-5"},[e._v(e._s(e.content_types[e.document.content_type-1]))]),n("h1",{staticClass:"title"},[e._v(e._s(e.document.content.Title))]),n("hr"),e._l(e.fields,(function(t,s){return n("div",{key:s,staticClass:"content block"},["text"===t.type?n("div",[n("p",[e._v(e._s(e.document.content[t.name]))])]):"select"===t.type?n("div",[n("p",{staticClass:"subtitle is-4"},[n("b",[e._v(e._s(t.name)+":")]),e._v(" "+e._s(e.document.content[t.name])+" ")])]):"multiselect"===t.type?n("div",[n("h3",[e._v(e._s(t.name))]),n("div",{staticClass:"tags are-medium"},e._l(e.document.content[t.name],(function(t,s){return n("span",{key:s,staticClass:"tag"},[e._v(e._s(t))])})),0)]):"block"===t.type?n("div",[n("h3",[e._v(e._s(t.name))]),n("new-editor",{staticStyle:{"padding-left":"20px"},attrs:{editable:!1,content:e.document.content[t.name]}})],1):"blocks"===t.type?n("div",["Steps"===t.name?n("div",e._l(e.document.content[t.name],(function(t,s){return n("div",{key:s,staticClass:"columns step"},[n("p",{staticClass:"column is-1",attrs:{id:"step-"+s+1}},[n("em",[e._v("Step "+e._s(s+1))])]),n("new-editor",{staticClass:"column is-11",attrs:{editable:!1,content:t}})],1)})),0):n("div",[n("h3",[e._v(e._s(t.name))]),e._l(e.document.content[t.name],(function(e,t){return n("div",{key:t,staticClass:"block"},[n("new-editor",{staticStyle:{"padding-left":"20px"},attrs:{editable:!1,content:e}})],1)}))],2)]):"data"===t.type?n("div",[n("h3",[e._v(e._s(t.name))]),n("table",{staticClass:"table"},[e._m(0,!0),n("tbody",e._l(e.document.content[t.name],(function(t,a){return n("tr",{key:a},[n("td",[e._v(e._s(e.alphatise(a+Math.pow(26,s))))]),n("td",{staticStyle:{"min-width":"500px"}},[n("new-editor",{attrs:{editable:!1,content:t}})],1)])})),0)])]):e._e()])}))],2)},$t=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("thead",[n("tr",[n("th",[e._v("Code")]),n("th",[e._v("Description")])])])}],Et={components:{NewEditor:We},props:{document:{type:Object,required:!0}},data:function(){return{schemas:[]}},methods:{alphatise:function(e){var t=Math.floor(e/676);e-=26*t*26;var n=Math.floor(e/26),s=e-26*n;return String.fromCharCode(65+t,46,65+n,46,65+s)}},computed:{fields:function(){return this.schemas[this.document.content_type-1].fields.filter((function(e){return"Title"!==e.name&&!e.hidden}))},content_types:function(){return this.schemas.length>0?this.schemas.map((function(e){return e.name})):null}},watch:{document:function(e){4===e.content_type&&(window.location.href=e.content.URL)}},created:function(){this.schemas=window.schemas}},Mt=Et,Nt=Object(h["a"])(Mt,Dt,$t,!1,null,null,null),Ot=Nt.exports;function It(e,t,n,s,a,i,r){try{var o=e[i](r),c=o.value}catch(l){return void n(l)}o.done?t(c):Promise.resolve(c).then(s,a)}function Rt(e){return function(){var t=this,n=arguments;return new Promise((function(s,a){var i=e.apply(t,n);function r(e){It(i,s,a,r,o,"next",e)}function o(e){It(i,s,a,r,o,"throw",e)}r(void 0)}))}}var jt={name:"DocumentView",props:{document_id:{},logged:{default:!1},current_user:{},depth:{default:0},version:{default:!1}},data:function(){return{editors:[],document:{title:"",content_type:-1},renderTag:0,loading:!1}},methods:{createDraft:function(){var e=this;return Rt(r.a.mark((function t(){return r.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o["a"].post(e.API_URL+"/doc/".concat(e.document_id),{});case 3:e.$router.push("/drafts/".concat(e.document_id)),t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](0),console.log("couldn't create drafts",t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))()},goToHistory:function(){this.$router.push("/docs/".concat(this.document_id,"/versions"))}},mounted:function(){var e=this;return Rt(r.a.mark((function t(){var n;return r.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.document_id){t.next=6;break}return t.next=3,o["a"].get(e.API_URL+"/doc/".concat(e.document_id));case 3:n=t.sent,e.$set(e,"document",n),4==n.content_type&&e.$router.push(n.url);case 6:case"end":return t.stop()}}),t)})))()},components:{RecoView:z,Process:Ke,Definition:nt,CreditStandard:ut,Guidance:pt,Product:kt,ICS:Pt,Dyndoc:Ot}},Lt=jt,Bt=Object(h["a"])(Lt,B,U,!1,null,null,null),Ut=Bt.exports,Ht=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h2",{staticClass:"is-size-3",staticStyle:{"padding-bottom":"8px"}},[e._v(" Version history for: "),n("strong",[e._v(e._s(e.Title))])]),n("p",{staticClass:"is-size-6 block"},[e._v(e._s(e.docs.length)+" versions")]),n("div",{staticClass:"block"},[n("label",{staticClass:"label"},[e._v("Since")]),n("date-picker",{on:{submit:e.changeDate}})],1),e.docs.length>0?n("list",{attrs:{items:e.docs},on:{selected:e.selectItem},scopedSlots:e._u([{key:"item",fn:function(t){return[n("div",{on:{click:function(n){return e.selectItem(t.item)}}},[n("p",{staticClass:"is-size-5"},[e._v(e._s(t.item.content.Title||""))]),n("p",{staticClass:"is-size-7"},[n("em",[e._v("Published at "+e._s(e.parseDate(t.item.published_at)||"")+" by User Name")])])])]}}],null,!1,1234116807)}):n("p",[e._v(" There have been no edits since "),n("strong",[e._v(e._s(e.day+"/"+e.month+"/"+e.year))])])],1)},qt=[],Ft=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"select"},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.day,expression:"day"}],on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.day=t.target.multiple?n:n[0]}}},[n("option",{attrs:{selected:"",disabled:"",hidden:""}},[e._v("Day")]),e._l(e.maxDays,(function(t){return n("option",{key:t},[e._v(e._s(t))])}))],2)]),n("div",{staticClass:"select"},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.month,expression:"month"}],on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.month=t.target.multiple?n:n[0]}}},[n("option",{attrs:{selected:"",disabled:"",hidden:""}},[e._v("Month")]),e._l(12,(function(t){return n("option",{key:t,domProps:{value:t}},[e._v(e._s(e.getMonth(t)))])}))],2)]),n("div",{staticClass:"select"},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.year,expression:"year"}],attrs:{placeholde:"Year"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.year=t.target.multiple?n:n[0]}}},[n("option",{attrs:{selected:"",disabled:"",hidden:""}},[e._v("Year")]),e._l(2,(function(t){return n("option",{key:t},[e._v(e._s(t+2020))])}))],2)]),n("input",{directives:[{name:"show",rawName:"v-show",value:e.submit,expression:"submit"}],staticClass:"button",class:{"is-success":e.allowSubmit},attrs:{type:"submit"},on:{click:e.submitDate}})])},Vt=[],Yt={props:{submit:{type:Boolean,default:!0}},data:function(){return{day:null,month:null,year:null,maxDays:30}},computed:{allowSubmit:function(){return null!==this.day&&null!==this.month&&null!==this.year}},watch:{month:function(){2==this.month?this.maxDays=28:1==this.month||3==this.month||5==this.month||7==this.month||8==this.month||10==this.month||12==this.month?this.maxDays=31:this.maxDays=30}},methods:{submitDate:function(){this.$emit("submit",{day:this.day,month:this.month,year:this.year})},getMonth:function(e){switch(e){case 1:return"January";case 2:return"February";case 3:return"March";case 4:return"April";case 5:return"May";case 6:return"June";case 7:return"July";case 8:return"August";case 9:return"September";case 10:return"October";case 11:return"November";case 12:return"December";default:return"NULL"}}}},Wt=Yt,Gt=Object(h["a"])(Wt,Ft,Vt,!1,null,null,null),zt=Gt.exports;function Jt(e,t,n,s,a,i,r){try{var o=e[i](r),c=o.value}catch(l){return void n(l)}o.done?t(c):Promise.resolve(c).then(s,a)}function Kt(e){return function(){var t=this,n=arguments;return new Promise((function(s,a){var i=e.apply(t,n);function r(e){Jt(i,s,a,r,o,"next",e)}function o(e){Jt(i,s,a,r,o,"throw",e)}r(void 0)}))}}var Zt={components:{List:p,DatePicker:zt},props:["document_id"],data:function(){return{docs:{},reload:!1,flag:0,title:"",day:0,month:0,year:0}},methods:{getDocs:function(){var e=this;return Kt(r.a.mark((function t(){return r.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o["a"].get(e.API_URL+"/doc/".concat(e.document_id,"/versions"));case 3:e.docs=t.sent,e.docs.length>0&&""==e.Title&&(e.title=e.docs[0].Title),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),e.docs=[];case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},selectItem:function(e){console.log(e),this.$router.push("/docs/".concat(e.id,"/versions/").concat(e.version))},capitalise:function(e){return e[0].toUpperCase()+e.slice(1)},parseDate:function(e){var t=new Date(e);return t.toLocaleDateString()},changeDate:function(e){var t=this;return Kt(r.a.mark((function n(){var s,a,i;return r.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return s=e.day,a=e.month,i=e.year,n.next=3,o["a"].get(t.API_URL+"/doc/".concat(t.document_id,"/versions?day=").concat(s,"&month=").concat(a,"&year=").concat(i));case 3:t.docs=n.sent,t.day=s,t.month=a,t.year=i;case 7:case"end":return n.stop()}}),n)})))()}},watch:{$route:"getDocs"},created:function(){this.getDocs()}},Qt=Zt,Xt=Object(h["a"])(Qt,Ht,qt,!1,null,null,null),en=Xt.exports,tn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("dependency-view",{attrs:{document_id:this.document_id}}),n("edit-view",{attrs:{document_id:this.document_id,cancel:!0,save:!0,publish:!0},on:{published:e.goBack}})],1)},nn=[],sn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"block"},[n("article",{directives:[{name:"show",rawName:"v-show",value:this.dependencies.length>0&&!e.hide,expression:"this.dependencies.length > 0 && !hide"}],staticClass:"message is-danger"},[n("div",{staticClass:"message-header"},[n("p",[e._v("Warning")]),n("button",{staticClass:"delete",attrs:{"aria-label":"delete"},on:{click:function(t){e.hide=!0}}})]),n("div",{staticClass:"message-body"},[e._v(" There "+e._s(1===e.dependencies.length?"is":"are")+" "+e._s(e.dependencies.length)+" "+e._s(1===e.dependencies.length?"reference":"references")+" to this content from other content. Please consider the impact your change will have. ")])]),n("button",{staticClass:"button is-danger",on:{click:e.handleClick}},[e._v(" Show References ")]),n("div",{staticClass:"modal",class:{"is-active":e.active}},[n("div",{staticClass:"modal-background",on:{click:function(t){e.active=!1}}}),n("div",{staticClass:"modal-content"},[n("div",{staticClass:"card block",staticStyle:{padding:"20px"}},[n("p",{staticClass:"title"},[e._v(" "+e._s(e.dependencies.length>0?"This content is referenced by":"This content has no references")+" ")]),e._l(e.dependencies,(function(t,s){return n("div",{key:s,staticClass:"block"},[n("p",{staticClass:"subtitle"},[n("a",{on:{click:function(n){return e.handleSelect(t.id)}}},[e._v(e._s(e.schemas[t.content_type-1].name+" - "+t.content.Title))])])])}))],2)])])])},an=[];function rn(e,t,n,s,a,i,r){try{var o=e[i](r),c=o.value}catch(l){return void n(l)}o.done?t(c):Promise.resolve(c).then(s,a)}function on(e){return function(){var t=this,n=arguments;return new Promise((function(s,a){var i=e.apply(t,n);function r(e){rn(i,s,a,r,o,"next",e)}function o(e){rn(i,s,a,r,o,"throw",e)}r(void 0)}))}}var cn={props:["document_id"],data:function(){return{active:!1,dependencies:[],hide:!1}},methods:{handleClick:function(){this.active=!0},getDependencies:function(){var e=this;return on(r.a.mark((function t(){return r.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,o["a"].get(e.API_URL+"/links/".concat(e.document_id));case 2:e.dependencies=t.sent;case 3:case"end":return t.stop()}}),t)})))()},handleSelect:function(e){this.$router.push("/docs/".concat(e))}},created:function(){var e=this;return on(r.a.mark((function t(){return r.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.getDependencies(),e.schemas=window.schemas;case 2:case"end":return t.stop()}}),t)})))()}},ln=cn,un=Object(h["a"])(ln,sn,an,!1,null,null,null),dn=un.exports,mn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"columns"},[n("aside",{staticClass:"menu column is-2"},[n("p",{staticClass:"menu-label"},[e._v("Fields")]),n("ul",{staticClass:"menu-list"},e._l(e.currentSchema.fields,(function(t,s){return n("li",{key:s},[n("a",{attrs:{href:"#"+t.name}},[e._v(e._s(t.name))])])})),0)]),n("section",{staticClass:"column is-10 content",attrs:{id:"add"}},[n("div",{staticClass:"block buttons"},[e.cancel?n("button",{staticClass:"button",on:{click:e.cancelEdit}},[e._v(" Cancel ")]):e._e(),e.save?n("button",{staticClass:"button is-primary",on:{click:e.saveDocument}},[e._v(" Save ")]):e._e(),e.publish?n("button",{staticClass:"button is-success is-outlined",on:{click:e.publishDocument}},[e._v(" Publish ")]):e._e(),e.create?n("button",{staticClass:"button is-primary",on:{click:e.createDocument}},[e._v(" Create ")]):e._e()]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.saved,expression:"saved"}],staticClass:"message",class:{"is-success":e.saved,"is-danger":!e.saved}},[n("div",{staticClass:"message-body"},[e._v(" "+e._s(this.saved?"Saved successfully":"Could not save")+" ")])]),n("div",{staticClass:"field"},[n("label",{staticClass:"label"},[e._v("Content Type")]),n("div",{staticClass:"select is-fullwidth"},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.content_type,expression:"content_type"}],attrs:{disabled:e.document.version>1,id:"type is-primary"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.content_type=t.target.multiple?n:n[0]}}},e._l(e.content_types,(function(t,s){return n("option",{key:s,domProps:{value:s}},[e._v(" "+e._s(t)+" ")])})),0)])]),n("div",{staticClass:"field"},[n("label",{staticClass:"label"},[e._v("Approver")]),n("div",{staticClass:"select is-fullwidth"},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.owner,expression:"owner"}],attrs:{id:"type is-primary"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.owner=t.target.multiple?n:n[0]}}},e._l(e.users,(function(t,s){return n("option",{key:s,domProps:{value:s}},[e._v(" "+e._s(t)+" ")])})),0)])]),e._l(e.currentSchema.fields,(function(t,s){return n("div",{key:s,staticClass:"field",attrs:{id:t.name}},[n("label",{staticClass:"label"},[e._v(e._s(t.name))]),"text"===t.type?n("input",{directives:[{name:"model",rawName:"v-model",value:e.forms[e.content_type][t.name],expression:"forms[content_type][field.name]"}],staticClass:"input",attrs:{id:"title"},domProps:{value:e.forms[e.content_type][t.name]},on:{input:function(n){n.target.composing||e.$set(e.forms[e.content_type],t.name,n.target.value)}}}):"block"==t.type?n("div",[n("new-editor",{attrs:{definitions:e.titles,content:e.forms[e.content_type][t.name],"editor-text":e.editorText,active:s==e.currBlock},on:{"update:content":function(n){return e.$set(e.forms[e.content_type],t.name,n)},"update:editorText":function(t){e.editorText=t},"update:editor-text":function(t){e.editorText=t},activated:function(t){e.currBlock=s}}})],1):"select"==t.type?n("div",{staticClass:"select"},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.forms[e.content_type][t.name],expression:"forms[content_type][field.name]"}],on:{change:function(n){var s=Array.prototype.filter.call(n.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.forms[e.content_type],t.name,n.target.multiple?s:s[0])}}},e._l(t.values,(function(t){return n("option",{key:t},[e._v(" "+e._s(t)+" ")])})),0)]):"blocks"==t.type?n("div",e._l(e.forms[e.content_type][t.name],(function(s,a){return n("div",{key:a,attrs:{num:a}},[n("new-editor",{attrs:{definitions:e.titles,content:e.forms[e.content_type][t.name][a],"editor-text":e.editorText,active:a==e.currBlock,"show-delete":e.forms[e.content_type][t.name].length>1},on:{"update:content":function(n){return e.$set(e.forms[e.content_type][t.name],a,n)},"update:editorText":function(t){e.editorText=t},"update:editor-text":function(t){e.editorText=t},activated:function(t){e.currBlock=a},delete:function(n){return e.deleteBlock(t.name,a)}}}),n("button",{directives:[{name:"show",rawName:"v-show",value:a==e.currBlock,expression:"j == currBlock"}],staticClass:"button is-fullwidth is-info add-block-button",on:{click:function(n){return e.addBlock(t.name,a)}}},[e._v(" Add Block ")])],1)})),0):"multiselect"===t.type?n("div",[n("multi-select",{attrs:{selected:e.forms[e.content_type][t.name],values:t.values},on:{"update:selected":function(n){return e.$set(e.forms[e.content_type],t.name,n)}}})],1):"data"==t.type?n("div",[n("table",{staticClass:"table"},[e._m(0,!0),n("tbody",e._l(e.forms[e.content_type][t.name],(function(a,i){return n("tr",{key:i},[n("td",[e._v(e._s(e.alphatise(i+Math.pow(26,s-1))))]),n("td",[n("new-editor",{attrs:{num:s,document_id:e.document_id,definitions:e.titles,content:e.forms[e.content_type][t.name][i],"editor-text":e.editorText,active:i==e.currBlock&&t.name==e.currRes},on:{"update:content":function(n){return e.$set(e.forms[e.content_type][t.name],i,n)},"update:editorText":function(t){e.editorText=t},"update:editor-text":function(t){e.editorText=t},activated:function(n){e.currBlock=i,e.currField=t.name}}})],1)])})),0)]),n("button",{staticClass:"button is-fullwidth is-info add-block-button",on:{click:function(n){return e.addBlock(t.name)}}},[e._v(" Add "+e._s(t.name)+" ")])]):n("div",[e._v(e._s(t)+", "+e._s(s))])])}))],2)])])},vn=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("thead",[n("tr",[n("th",[e._v("Code")]),n("th",{staticStyle:{"min-width":"995px"}},[e._v("Description")])])])}],hn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"field is-grouped is-grouped-multiline"},e._l(e.selected,(function(t,s){return n("div",{key:s,staticClass:"control"},[n("div",{staticClass:"tags has-addons"},[n("span",{staticClass:"tag is-info"},[e._v(e._s(t))]),n("a",{staticClass:"tag is-delete",on:{click:function(t){return e.removeTerm(s)}}})])])})),0),n("div",{staticStyle:{position:"relative"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.searchTerm,expression:"searchTerm"}],staticClass:"input",domProps:{value:e.searchTerm},on:{input:function(t){t.target.composing||(e.searchTerm=t.target.value)}}}),n("div",{directives:[{name:"show",rawName:"v-show",value:e.results.length>0,expression:"results.length > 0"}],staticStyle:{position:"absolute",top:"40px",background:"white","z-index":"10",width:"100%"}},[n("ul",{staticClass:"multiselect-list"},e._l(e.results,(function(t,s){return n("li",{key:s,staticClass:"multiselect-list-item",on:{click:function(n){return e.addTerm(t)}}},[e._v(" "+e._s(t)+" ")])})),0)])])])},fn=[],pn={props:{selected:{type:Array},values:{default:function(){return[]}}},methods:{addTerm:function(e){this.selectionSet.has(e)||(this.selectionSet.add(e),this.$emit("update:selected",this.selected.concat(e)))},removeTerm:function(e){this.selectionSet.delete(this.selected[e]),this.$emit("update:selected",this.selected.filter((function(t,n){return n!==e})))}},data:function(){return{selectionSet:null,searchTerm:""}},created:function(){this.selectionSet=new Set(this.selected)},computed:{results:function(){var e=this;return this.values.filter((function(t){return null===t.match(e.searchTerm)})).slice(0,5)}}},_n=pn,bn=(n("efeb"),Object(h["a"])(_n,hn,fn,!1,null,null,null)),yn=bn.exports;function wn(e,t,n,s,a,i,r){try{var o=e[i](r),c=o.value}catch(l){return void n(l)}o.done?t(c):Promise.resolve(c).then(s,a)}function Cn(e){return function(){var t=this,n=arguments;return new Promise((function(s,a){var i=e.apply(t,n);function r(e){wn(i,s,a,r,o,"next",e)}function o(e){wn(i,s,a,r,o,"throw",e)}r(void 0)}))}}function kn(e){return Sn(e)||An(e)||xn(e)||gn()}function gn(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function xn(e,t){if(e){if("string"===typeof e)return Tn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Tn(e,t):void 0}}function An(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Sn(e){if(Array.isArray(e))return Tn(e)}function Tn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}var Pn={components:{NewEditor:We,MultiSelect:yn},props:{cancel:{},create:{default:!1},save:{},publish:{},document_id:{default:1}},data:function(){return{document:{},schemas:[],content_type:0,owner:-1,users:["User Name","Aldous Huxley","George Orwell","Ernest Hemingway","Virginia Wolff"],saved:null,editorText:"",titles:[],forms:[],currBlock:0,currRes:""}},computed:{currentSchema:function(){return this.schemas.length>0?this.schemas[this.content_type]:null},content_types:function(){return this.schemas.length>0?this.schemas.map((function(e){return e.name})):null}},methods:{createRefs:function(e){var t=this;e.forEach((function(e,n){t.forms[n]||t.$set(t.forms,n,{}),e.fields.forEach((function(e){switch(e.type){case"text":case"select":case"block":t.$set(t.forms[n],e.name,"");break;case"data":case"blocks":t.$set(t.forms[n],e.name,[""]);break;case"multiselect":t.$set(t.forms[n],e.name,[]);break}}))}))},setForm:function(e){var t=this;Object.keys(e.content).forEach((function(n){t.$set(t.forms[t.content_type],n,e.content[n])}))},alphatise:function(e){var t=Math.floor(e/676);e-=26*t*26;var n=Math.floor(e/26),s=e-26*n;return String.fromCharCode(65+t,46,65+n,46,65+s)},addBlock:function(e,t){if(void 0!==t){var n=this.forms[this.content_type][e],s=n.slice(0,t+1);s.push.apply(s,[""].concat(kn(n.slice(t+1)))),this.forms[this.content_type][e]=s,this.currBlock=t+1}else this.forms[this.content_type][e].push("")},deleteBlock:function(e,t){this.forms[this.content_type][e].splice(t,1)},grabContent:function(){return{id:this.document_id,version:this.document.version,content_type:this.content_type+1,owner_id:this.owner,content:this.forms[this.content_type]}},saveDocument:function(){var e=this;return Cn(r.a.mark((function t(){var n;return r.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,n=e.grabContent(),t.next=4,o["a"].put(e.API_URL+"/doc/"+e.document_id+"/draft",n);case 4:e.saved=!0,e.$emit("saved"),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),e.saved=!1;case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()},createDocument:function(){var e=this;return Cn(r.a.mark((function t(){var n;return r.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.grabContent(),t.next=3,o["a"].post(e.API_URL+"/doc",n);case 3:e.$emit("created");case 4:case"end":return t.stop()}}),t)})))()},publishDocument:function(){var e=this;return Cn(r.a.mark((function t(){var n;return r.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.grabContent(),n.search=n.content.Title+"\n\n"+e.editorText,t.next=4,o["a"].put(e.API_URL+"/doc/"+e.document_id,n);case 4:e.$emit("published");case 5:case"end":return t.stop()}}),t)})))()},cancelEdit:function(){this.$router.go(-1)}},created:function(){var e=this;return Cn(r.a.mark((function t(){var n;return r.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.schemas=window.schemas,t.next=3,o["a"].get(e.API_URL+"/titles");case 3:if(e.titles=t.sent,!e.create){t.next=6;break}return t.abrupt("return");case 6:return t.next=8,o["a"].get(e.API_URL+"/doc/"+e.document_id+"/draft");case 8:n=t.sent,e.document=n,e.content_type=e.document.content_type-1,e.createRefs(e.schemas),e.setForm(e.document),e.owner=e.document.owner_id;case 14:case"end":return t.stop()}}),t)})))()}},Dn=Pn,$n=Object(h["a"])(Dn,mn,vn,!1,null,null,null),En=$n.exports;function Mn(e,t,n,s,a,i,r){try{var o=e[i](r),c=o.value}catch(l){return void n(l)}o.done?t(c):Promise.resolve(c).then(s,a)}function Nn(e){return function(){var t=this,n=arguments;return new Promise((function(s,a){var i=e.apply(t,n);function r(e){Mn(i,s,a,r,o,"next",e)}function o(e){Mn(i,s,a,r,o,"throw",e)}r(void 0)}))}}var On={components:{DependencyView:dn,EditView:En},props:{document_id:{}},data:function(){return{}},mounted:function(){var e=this;return Nn(r.a.mark((function t(){var n;return r.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,o["a"].get(e.API_URL+"/titles");case 2:return e.linkTerms=t.sent,t.next=5,o["a"].get(e.API_URL+"/doc/".concat(e.document_id,"/draft"));case 5:n=t.sent,e.previewDocument=n;case 7:case"end":return t.stop()}}),t)})))()},methods:{goBack:function(){this.$router.push({path:"/drafts",query:{published:!0}})}}},In=On,Rn=Object(h["a"])(In,tn,nn,!1,null,null,null),jn=Rn.exports,Ln=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("article",{staticClass:"message"},[n("div",{staticClass:"message-body"},[n("h1",{staticClass:"title is-4"},[e._v("Version #"+e._s(this.document.version))]),n("p",[e._v(" Published at "+e._s(e.parseDate(this.document.published_at))+" by "),n("i",[e._v(e._s("User Name"))])])])]),n("div",{staticClass:"column columns"},[n("div",{staticClass:"column is-10"},[n("dyndoc",{attrs:{document:e.document}})],1),n("reco-view",{attrs:{document_id:e.document_id}})],1)])},Bn=[];function Un(e,t,n,s,a,i,r){try{var o=e[i](r),c=o.value}catch(l){return void n(l)}o.done?t(c):Promise.resolve(c).then(s,a)}function Hn(e){return function(){var t=this,n=arguments;return new Promise((function(s,a){var i=e.apply(t,n);function r(e){Un(i,s,a,r,o,"next",e)}function o(e){Un(i,s,a,r,o,"throw",e)}r(void 0)}))}}var qn={name:"DocumentView",props:{document_id:{},version_id:{},logged:{default:!1},current_user:{},depth:{default:0},version:{default:!1}},data:function(){return{editors:[],document:{title:"",content_type:-1},renderTag:0,loading:!1}},methods:{createDraft:function(){var e=this;return Hn(r.a.mark((function t(){return r.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o["a"].post(e.API_URL+"/doc/".concat(e.document_id),{});case 3:e.$router.push("/drafts/".concat(e.document_id)),t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](0),console.log("couldn't create drafts",t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))()},goToHistory:function(){this.$router.push("/docs/".concat(this.document_id,"/versions"))},parseDate:function(e){var t=new Date(e);return t.toLocaleDateString()}},mounted:function(){var e=this;return Hn(r.a.mark((function t(){var n;return r.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.document_id){t.next=6;break}return t.next=3,o["a"].get(e.API_URL+"/doc/".concat(e.document_id,"/versions/").concat(e.version_id));case 3:n=t.sent,e.$set(e,"document",n),4==n.content_type&&e.$router.push(n.url);case 6:case"end":return t.stop()}}),t)})))()},components:{RecoView:z,Dyndoc:Ot}},Fn=qn,Vn=Object(h["a"])(Fn,Ln,Bn,!1,null,null,null),Yn=Vn.exports,Wn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h1",{staticClass:"title is-4"},[e._v("Admin")]),n("div",{staticClass:"columns"},[n("aside",{staticClass:"menu column is-2"},[n("p",{staticClass:"menu-label"},[e._v("Menu")]),n("ul",{staticClass:"menu-list"},[n("li",e._l(e.menus[e.userRole],(function(t,s){return n("a",{key:s},[e._v(e._s(t))])})),0)])]),"Admin"===e.userRole?n("div",{staticClass:"column is-8"},[n("h2",{staticClass:"title is-2"},[e._v("Admin")]),n("div",{staticClass:"block"},[n("h1",{staticClass:"title is-6"},[e._v("Schemas")]),n("router-link",{attrs:{to:"/schemas"}},[n("button",{staticClass:"button is-light"},[e._v("Edit Schemas")])])],1),n("div",{staticClass:"block"},[n("h1",{staticClass:"title is-6"},[e._v("Reporting")]),n("router-link",{attrs:{to:"/reports"}},[n("button",{staticClass:"button is-light"},[e._v("Reporting")])])],1),n("div",{staticClass:"block"},[n("h1",{staticClass:"title is-6"},[e._v("Your Approvals")]),n("table",{staticClass:"table is-fullwidth"},[e._m(0),n("tbody",e._l(e.approvals,(function(t,s){return n("tr",{key:s,class:{approved:e.approved[s]}},[n("td",[e.approved[s]?n("i",{staticClass:"fas fa-check",staticStyle:{color:"darkgreen"}}):n("input",{directives:[{name:"model",rawName:"v-model",value:e.selections[s],expression:"selections[i]"}],staticClass:"checkbox",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.selections[s])?e._i(e.selections[s],null)>-1:e.selections[s]},on:{change:function(t){var n=e.selections[s],a=t.target,i=!!a.checked;if(Array.isArray(n)){var r=null,o=e._i(n,r);a.checked?o<0&&e.$set(e.selections,s,n.concat([r])):o>-1&&e.$set(e.selections,s,n.slice(0,o).concat(n.slice(o+1)))}else e.$set(e.selections,s,i)}}})]),n("td",[n("a",[e._v(e._s(t.content))])]),n("td",[e._v(" "+e._s(t.content_type)+" ")]),n("td",[e._v(" "+e._s(t.requester)+" ")])])})),0)]),n("button",{staticClass:"button",class:{"is-success":e.hasSelection},on:{click:e.mag}},[e._v(" Approve ")])]),n("div",{staticClass:"block"},[n("h1",{staticClass:"title is-6"},[e._v("User roles")]),n("table",{staticClass:"table is-fullwidth"},[e._m(1),n("tbody",e._l(e.users,(function(t,s){return n("tr",{key:s},[n("td",[e._v(e._s(t.name))]),n("td",[e._v(e._s(t.role))])])})),0)])])]):e._e(),"Approver"===e.userRole?n("div",{staticClass:"column is-8"},[n("h2",{staticClass:"title is-2"},[e._v("Approver")]),n("div",{staticClass:"block"},[n("h1",{staticClass:"title is-6"},[e._v("Your Approvals")]),n("table",{staticClass:"table is-fullwidth"},[e._m(2),n("tbody",e._l(e.approvals,(function(t,s){return n("tr",{key:s,class:{approved:e.approved[s]}},[n("td",[e.approved[s]?n("i",{staticClass:"fas fa-check",staticStyle:{color:"darkgreen"}}):n("input",{directives:[{name:"model",rawName:"v-model",value:e.selections[s],expression:"selections[i]"}],staticClass:"checkbox",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.selections[s])?e._i(e.selections[s],null)>-1:e.selections[s]},on:{change:function(t){var n=e.selections[s],a=t.target,i=!!a.checked;if(Array.isArray(n)){var r=null,o=e._i(n,r);a.checked?o<0&&e.$set(e.selections,s,n.concat([r])):o>-1&&e.$set(e.selections,s,n.slice(0,o).concat(n.slice(o+1)))}else e.$set(e.selections,s,i)}}})]),n("td",[n("a",[e._v(e._s(t.content))])]),n("td",[e._v(" "+e._s(t.content_type)+" ")]),n("td",[e._v(" "+e._s(t.requester)+" ")])])})),0)]),n("button",{staticClass:"button",class:{"is-success":e.hasSelection},on:{click:e.mag}},[e._v(" Approve ")])])]):"Owner"===e.userRole?n("div",[n("h2",{staticClass:"title is-2"},[e._v("Owner")]),n("div",{staticClass:"block"},[n("h1",{staticClass:"title is-6"},[e._v("Publish Requests")]),n("table",{staticClass:"table is-fullwidth"},[e._m(3),n("tbody",e._l(e.publishs,(function(t,s){return n("tr",{key:s,class:{polrow:"Policy"==t.content_type},on:{mouseover:function(t){return e.showButton(s)},mouseleave:function(t){return e.hideButton(s)}}},[n("td",[e._v(" "+e._s(t.published_at.toLocaleDateString())+" ")]),n("td",[n("a",[e._v(e._s(t.content))])]),n("td",[e._v(" "+e._s(t.content_type)+" ")]),n("td",[n("button",{staticClass:"button is-info",class:{hide:"Policy"!==t.content_type},on:{click:function(n){return e.download(t.content)}}},[e._m(4,!0),n("span",[e._v("Download Policy Template")])])])])})),0)])])]):e._e()])])},Gn=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("thead",[n("tr",[n("th"),n("th",[e._v("Content")]),n("th",[e._v("Content Type")]),n("th",[e._v("Requester")])])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("thead",[n("tr",[n("th",[e._v("User")]),n("th",[e._v("Role")])])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("thead",[n("tr",[n("th"),n("th",[e._v("Content")]),n("th",[e._v("Content Type")]),n("th",[e._v("Submitted By")])])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("thead",[n("tr",[n("th",[e._v("Published At")]),n("th",[e._v("Name")]),n("th",[e._v("Content Type")]),n("th")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{staticClass:"icon is-small"},[n("i",{staticClass:"fas fa-download"})])}];function zn(e,t,n,s,a,i,r){try{var o=e[i](r),c=o.value}catch(l){return void n(l)}o.done?t(c):Promise.resolve(c).then(s,a)}function Jn(e){return function(){var t=this,n=arguments;return new Promise((function(s,a){var i=e.apply(t,n);function r(e){zn(i,s,a,r,o,"next",e)}function o(e){zn(i,s,a,r,o,"throw",e)}r(void 0)}))}}var Kn={props:["userRole"],data:function(){return{hover:null,selections:[!1,!1],approved:[!1,!1],approvals:[{content:"Example Title",content_type:"Policy",requester:"User Name"},{content:"Oven",content_type:"Definition",requester:"Alan Citizen"}],users:[{name:"Bob Smith",role:"Editor"},{name:"Jane Doe",role:"Editor"},{name:"John Doe",role:"Owner"},{name:"Jane Doe",role:"Editor"},{name:"User Name",role:"System Administrator"}],publishs:[{published_at:new Date,content:"Microwave Oven",content_type:"Policy"},{published_at:new Date("04/15/2022"),content:"Baking a Cake",content_type:"Credit Standard"},{published_at:new Date("04/01/2022"),content:"Picnic",content_type:"Guidance"},{published_at:new Date("03/02/2022"),content:"Other Policy",content_type:"Policy"}],menus:{Owner:["Publish Requests"],Approver:["Your approvals"],Admin:["Schemas","Reporting","Your approvals","User roles"]}}},computed:{hasSelection:function(){for(var e=0;e<this.selections.length;e++)if(this.selections[e])return!0;return!1}},methods:{mag:function(){for(var e=0;e<this.selections.length;e++)this.selections[e]&&this.$set(this.approved,e,!0)},showButton:function(e){this.hover=e},hideButton:function(){this.hover=null},download:function(e){return Jn(r.a.mark((function t(){var n,s,a;return r.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=(new Date).getTime(),s="heheh",a=document.createElement("a"),a.href="data:attachment/text,"+encodeURI(s),a.target="_blank",a.download="".concat(e,"_").concat(n,".pdf"),a.click();case 7:case"end":return t.stop()}}),t)})))()}},created:function(){this.approvals[0].content=window.baselineContent[window.baselineContent.length-1].content.Title,this.publishs[0].content=window.baselineContent[window.baselineContent.length-1].content.Title}},Zn=Kn,Qn=(n("23d2"),Object(h["a"])(Zn,Wn,Gn,!1,null,null,null)),Xn=Qn.exports,es=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h1",{staticClass:"title is-2"},[e._v("Edit schema")]),n("div",{staticClass:"block"},[n("div",{staticClass:"select"},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.selected,expression:"selected"}],on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selected=t.target.multiple?n:n[0]}}},e._l(e.terms,(function(t,s){return n("option",{key:s,domProps:{value:s}},[e._v(e._s(t))])})),0)]),n("button",{staticClass:"button is-info",staticStyle:{"margin-left":"5px"},on:{click:function(t){return e.activateModal(1)}}},[e._m(0),n("span",[e._v(" New Schema ")])])]),n("section",{staticClass:"block"},e._l(e.selectedSchema.fields,(function(t,s){return n("div",{key:s,staticClass:"field schema-field",class:{"over-field":s==e.overField&&"Title"!==t.name},staticStyle:{display:"flex","align-items":"center","justify-content":"center"},attrs:{draggable:"Title"!==t.name},on:{dragenter:function(e){e.preventDefault()},dragover:function(t){return t.preventDefault(),e.setOver(s)},dragend:e.clearOver,dragstart:function(t){return e.startDrag(t,s)},drop:function(t){return e.onDrop(t,s)}}},[n("div",{staticClass:"icon",class:{invis:"Title"===t.name}},[n("i",{staticClass:"fas fa-grip-vertical"})]),n("div",{staticClass:"columns",staticStyle:{"flex-grow":"1"}},[n("div",{staticClass:"column is-4"},[n("label",{staticClass:"label"},[e._v("Field name")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"field.name"}],staticClass:"input",attrs:{disabled:!e.unlocked[e.selected][s]},domProps:{value:t.name},on:{input:function(n){n.target.composing||e.$set(t,"name",n.target.value)}}})]),n("div",{staticClass:"column is-2"},[n("label",{staticClass:"label"},[e._v("Field type")]),n("div",{staticClass:"select"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.type,expression:"field.type"}],attrs:{disabled:!e.unlocked[e.selected][s]},on:{change:function(n){var s=Array.prototype.filter.call(n.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(t,"type",n.target.multiple?s:s[0])}}},e._l(e.fieldTypes,(function(t,s){return n("option",{key:s},[e._v(e._s(t))])})),0)])]),n("div",{staticClass:"column is-2"},[n("label",{staticClass:"label"},[e._v("Required")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.required,expression:"field.required"}],staticClass:"checkbox",attrs:{type:"checkbox",disabled:!e.unlocked[e.selected][s]},domProps:{checked:Array.isArray(t.required)?e._i(t.required,null)>-1:t.required},on:{change:function(n){var s=t.required,a=n.target,i=!!a.checked;if(Array.isArray(s)){var r=null,o=e._i(s,r);a.checked?o<0&&e.$set(t,"required",s.concat([r])):o>-1&&e.$set(t,"required",s.slice(0,o).concat(s.slice(o+1)))}else e.$set(t,"required",i)}}})]),n("div",{staticClass:"column is-2"},[n("label",{staticClass:"label"},[e._v("Hidden")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.hidden,expression:"field.hidden"}],staticClass:"checkbox",attrs:{type:"checkbox",disabled:!e.unlocked[e.selected][s]},domProps:{checked:Array.isArray(t.hidden)?e._i(t.hidden,null)>-1:t.hidden},on:{change:function(n){var s=t.hidden,a=n.target,i=!!a.checked;if(Array.isArray(s)){var r=null,o=e._i(s,r);a.checked?o<0&&e.$set(t,"hidden",s.concat([r])):o>-1&&e.$set(t,"hidden",s.slice(0,o).concat(s.slice(o+1)))}else e.$set(t,"hidden",i)}}})]),n("div",{directives:[{name:"show",rawName:"v-show",value:"select"===t.type||"multiselect"===t.type,expression:"field.type === 'select' || field.type === 'multiselect'"}],staticClass:"column is-2"},[n("label",{staticClass:"label"},[e._v("Values")]),n("button",{staticClass:"button is-info",attrs:{disabled:!e.unlocked[e.selected][s]},on:{click:function(n){return e.selectValues(t)}}},[e._v(" Change values ")])])]),n("div",{class:{invis:"Title"===t.name},staticStyle:{"margin-right":"15px"},on:{click:function(t){return e.unlockField(s)}}},[n("i",{directives:[{name:"show",rawName:"v-show",value:!e.unlocked[e.selected][s],expression:"!unlocked[selected][i]"}],staticClass:"fas fa-lock"}),n("i",{directives:[{name:"show",rawName:"v-show",value:e.unlocked[e.selected][s],expression:"unlocked[selected][i]"}],staticClass:"fas fa-unlock"})])])})),0),n("div",{directives:[{name:"show",rawName:"v-show",value:e.saved,expression:"saved"}],staticClass:"message is-success"},[n("div",{staticClass:"message-body"},[e._v("Schema saved.")])]),n("div",{staticClass:"buttons"},[n("button",{staticClass:"button",on:{click:e.addField}},[e._v("Add Field")]),n("button",{staticClass:"button is-success",on:{click:e.saveSchema}},[e._m(1),n("span",[e._v(" Save schema")])])]),n("div",{staticClass:"modal",class:{"is-active":e.showModal[0]}},[n("div",{staticClass:"modal-background"}),n("div",{staticClass:"modal-card"},[n("header",{staticClass:"modal-card-head"},[n("p",{staticClass:"modal-card-title"},[e._v("Add Value")]),n("button",{staticClass:"delete",attrs:{"aria-label":"close"},on:{click:function(t){return e.closeModal(0)}}})]),n("section",{staticClass:"modal-card-body"},[n("table",{staticClass:"table"},[e._l(e.selectedValues,(function(t,s){return n("tr",{key:s},[n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.valueCheckboxes[s],expression:"valueCheckboxes[i]"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.valueCheckboxes[s])?e._i(e.valueCheckboxes[s],null)>-1:e.valueCheckboxes[s]},on:{change:function(t){var n=e.valueCheckboxes[s],a=t.target,i=!!a.checked;if(Array.isArray(n)){var r=null,o=e._i(n,r);a.checked?o<0&&e.$set(e.valueCheckboxes,s,n.concat([r])):o>-1&&e.$set(e.valueCheckboxes,s,n.slice(0,o).concat(n.slice(o+1)))}else e.$set(e.valueCheckboxes,s,i)}}})]),n("td",[e._v(e._s(t))])])})),n("tfoot",[n("tr",[n("td",[n("button",{staticClass:"button",class:{"is-success":e.validValue},on:{click:e.addValue}},[e._v(" Add ")])]),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.newValue,expression:"newValue"}],staticClass:"input",domProps:{value:e.newValue},on:{input:function(t){t.target.composing||(e.newValue=t.target.value)}}})])])])],2)]),n("footer",{staticClass:"modal-card-foot"},[n("button",{staticClass:"button is-success",on:{click:e.saveValues}},[e._v(" Save changes ")]),n("button",{directives:[{name:"show",rawName:"v-show",value:e.valueIsSelected,expression:"valueIsSelected"}],staticClass:"button is-danger",on:{click:e.deleteValues}},[e._v(" Delete Values ")]),n("button",{staticClass:"button",on:{click:function(t){return e.closeModal(0)}}},[e._v("Cancel")])])])]),n("div",{staticClass:"modal",class:{"is-active":e.showModal[1]}},[n("div",{staticClass:"modal-background"}),n("div",{staticClass:"modal-card"},[n("header",{staticClass:"modal-card-head"},[n("p",{staticClass:"modal-card-title"},[e._v("Add Schema")]),n("button",{staticClass:"delete",attrs:{"aria-label":"close"},on:{click:function(t){return e.closeModal(1)}}})]),n("section",{staticClass:"modal-card-body"},[n("label",{staticClass:"label"},[e._v("Name")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.schemaName,expression:"schemaName"}],staticClass:"input",attrs:{type:"text"},domProps:{value:e.schemaName},on:{input:function(t){t.target.composing||(e.schemaName=t.target.value)}}}),n("label",{staticClass:"label",attrs:{for:""}},[e._v("Has title?")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.schemaHasTitle,expression:"schemaHasTitle"}],attrs:{type:"checkbox",name:"",id:""},domProps:{checked:Array.isArray(e.schemaHasTitle)?e._i(e.schemaHasTitle,null)>-1:e.schemaHasTitle},on:{change:function(t){var n=e.schemaHasTitle,s=t.target,a=!!s.checked;if(Array.isArray(n)){var i=null,r=e._i(n,i);s.checked?r<0&&(e.schemaHasTitle=n.concat([i])):r>-1&&(e.schemaHasTitle=n.slice(0,r).concat(n.slice(r+1)))}else e.schemaHasTitle=a}}})]),n("footer",{staticClass:"modal-card-foot"},[n("button",{staticClass:"button",class:{"is-success":e.validSchemaName},on:{click:e.createSchema}},[e._v(" Create ")]),n("button",{staticClass:"button",on:{click:function(t){return e.closeModal(1)}}},[e._v("Cancel")])])])])])},ts=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{staticClass:"icon"},[n("i",{staticClass:"fa fa-plus"})])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{staticClass:"icon"},[n("i",{staticClass:"fa fa-save"})])}];function ns(e){return rs(e)||is(e)||as(e)||ss()}function ss(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function as(e,t){if(e){if("string"===typeof e)return os(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?os(e,t):void 0}}function is(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function rs(e){if(Array.isArray(e))return os(e)}function os(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}var cs={data:function(){return{showModal:[!1,!1],selectedField:null,selectedValues:null,newValue:"",valueCheckboxes:[],schemaName:"",schemaHasTitle:!0,selected:0,schems:null,fieldTypes:["text","block","blocks","select","multiselect","data"],unlocked:[],saved:null,overField:null}},methods:{setOver:function(e){this.overField=e},clearOver:function(){this.overField=-1},createSchema:function(){var e=this.schemaHasTitle?[{name:"Title",type:"text",required:!0}]:[];this.closeModal(1),this.schems.push({name:this.schemaName,fields:e}),this.unlocked.push([!1]),this.schemaName="",this.selected=this.schems.length-1},activateModal:function(e){this.$set(this.showModal,e,!0)},selectValues:function(e){this.$set(this.showModal,0,!0),this.selectedField=e,this.selectedValues=Array.from(e.values||[]),this.valueCheckboxes=this.selectedValues.map((function(){return!1}))},addValue:function(){this.validValue&&(this.$set(this.selectedValues,this.selectedValues.length,this.newValue),this.$set(this.valueCheckboxes,this.valueCheckboxes.length,!1),this.newValue="")},deleteValues:function(){var e=this;this.selectedValues=this.selectedValues.filter((function(t,n){return!e.valueCheckboxes[n]})),this.valueCheckboxes=this.selectedValues.map((function(){return!1}))},saveValues:function(){this.$set(this.showModal,0,!1),this.selectedField.values=this.selectedValues,this.selectedField=null},closeModal:function(e){this.$set(this.showModal,e,!1),this.selectedValues=null,this.newValue=""},saveSchema:function(){this.saved=null,window.schemas[this.selected]=this.schems[this.selected],console.log("TODO: mutate all contents on server"),this.saved=!0},unlockField:function(e){this.$set(this.unlocked[this.selected],e,!0)},onDrop:function(e,t){var n=this.schems[this.selected].fields;if("Title"!==n[t].name){var s=e.dataTransfer.getData("selectedIndex");if(s!==t){var a=n.splice(s,1)[0];console.log("moving to ",t,s),t-s>0&&t--;var i=n.slice(0,t),r=n.slice(t);i.push.apply(i,[a].concat(ns(r))),this.schems[this.selected].fields=i;var o=this.unlocked[this.selected],c=o.splice(s,1)[0],l=o.slice(0,t),u=o.slice(t);l.push.apply(l,[c].concat(ns(u))),this.unlocked[this.selected]=l}}},startDrag:function(e,t){e.dataTransfer.dropEffect="move",e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("selectedIndex",t)},addField:function(){this.schems[this.selected].fields.push({name:"New Field",type:"text",required:!1}),this.$set(this.unlocked[this.selected],this.unlocked[this.selected].length,!0)}},computed:{validValue:function(){return this.newValue.length>=3},validSchemaName:function(){return this.schemaName.length>3},terms:function(){return this.schems.map((function(e){return e.name}))},selectedSchema:function(){return this.schems[this.selected]},valueIsSelected:function(){return this.valueCheckboxes.reduce((function(e,t){return t||e}),!1)}},created:function(){var e=this;this.schems=window.schemas,this.schems.forEach((function(t,n){e.$set(e.unlocked,n,[]),t.fields.forEach((function(t,s){e.$set(e.unlocked[n],s,!1)}))}))}},ls=cs,us=(n("0ebd"),Object(h["a"])(ls,es,ts,!1,null,null,null)),ds=us.exports,ms=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h1",{staticClass:"title is-icon"},[n("span",{staticClass:"icon-text",on:{click:function(t){e.expanded=!e.expanded}}},[n("span",{staticClass:"icon"},[n("i",{directives:[{name:"show",rawName:"v-show",value:!e.expanded,expression:"!expanded"}],staticClass:"fa fa-angle-right"}),n("i",{directives:[{name:"show",rawName:"v-show",value:e.expanded,expression:"expanded"}],staticClass:"fa fa-angle-down"})]),n("span",[e._v("Report")])])]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.expanded,expression:"expanded"}],staticClass:"block"},[n("div",{staticClass:"block"},[n("div",{staticClass:"field column is-2"},[n("label",{staticClass:"label"},[e._v("Content Type")]),n("div",{staticClass:"select field"},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.selected,expression:"selected"}],on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selected=t.target.multiple?n:n[0]}}},e._l(e.schemas,(function(t,s){return n("option",{key:t,domProps:{value:s}},[e._v(" "+e._s(t)+" ")])})),0)])]),n("div",{staticClass:"field column is-4"},[n("label",{staticClass:"label"},[e._v("Fields")]),n("div",{staticClass:"field"},[n("label",{staticClass:"checkbox"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.allFields,expression:"allFields"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.allFields)?e._i(e.allFields,null)>-1:e.allFields},on:{change:function(t){var n=e.allFields,s=t.target,a=!!s.checked;if(Array.isArray(n)){var i=null,r=e._i(n,i);s.checked?r<0&&(e.allFields=n.concat([i])):r>-1&&(e.allFields=n.slice(0,r).concat(n.slice(r+1)))}else e.allFields=a}}}),e._v(" All Fields ")])]),n("div",{staticClass:"select is-multiple is-fullwidth"},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedFields,expression:"selectedFields"}],attrs:{multiple:"",size:"5",disabled:e.allFields},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedFields=t.target.multiple?n:n[0]}}},e._l(e.fields,(function(t,s){return n("option",{key:s,domProps:{value:t}},[e._v(" "+e._s(t.name)+" ")])})),0)])])]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.schemaSelects.length>0,expression:"schemaSelects.length > 0"}],staticClass:"field"},[n("label",{staticClass:"checkbox"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.showSelects,expression:"showSelects"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.showSelects)?e._i(e.showSelects,null)>-1:e.showSelects},on:{change:function(t){var n=e.showSelects,s=t.target,a=!!s.checked;if(Array.isArray(n)){var i=null,r=e._i(n,i);s.checked?r<0&&(e.showSelects=n.concat([i])):r>-1&&(e.showSelects=n.slice(0,r).concat(n.slice(r+1)))}else e.showSelects=a}}}),e._v(" Filter based on content values ")])]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.showSelects,expression:"showSelects"}],staticClass:"columns block"},e._l(e.schemaSelects,(function(t){return n("div",{key:t.name,staticClass:"column is-one-quarter"},[n("label",{staticClass:"label",attrs:{for:""}},[e._v(e._s(t.name))]),n("label",{staticClass:"checkbox field"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.selectModelAll[e.selected][t.name],expression:"selectModelAll[selected][s.name]"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.selectModelAll[e.selected][t.name])?e._i(e.selectModelAll[e.selected][t.name],null)>-1:e.selectModelAll[e.selected][t.name]},on:{change:function(n){var s=e.selectModelAll[e.selected][t.name],a=n.target,i=!!a.checked;if(Array.isArray(s)){var r=null,o=e._i(s,r);a.checked?o<0&&e.$set(e.selectModelAll[e.selected],t.name,s.concat([r])):o>-1&&e.$set(e.selectModelAll[e.selected],t.name,s.slice(0,o).concat(s.slice(o+1)))}else e.$set(e.selectModelAll[e.selected],t.name,i)}}}),e._v(" All ")]),n("div",{staticClass:"select is-multiple is-fullwidth"},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.selectModels[e.selected][t.name],expression:"selectModels[selected][s.name]"}],staticClass:"select is-multiple",attrs:{disabled:e.selectModelAll[e.selected][t.name],multiple:""},on:{change:function(n){var s=Array.prototype.filter.call(n.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.selectModels[e.selected],t.name,n.target.multiple?s:s[0])}}},e._l(t.values,(function(t){return n("option",{key:t},[e._v(e._s(t))])})),0)])])})),0),n("label",{staticClass:"checkbox field"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.versionHistory,expression:"versionHistory"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.versionHistory)?e._i(e.versionHistory,null)>-1:e.versionHistory},on:{change:function(t){var n=e.versionHistory,s=t.target,a=!!s.checked;if(Array.isArray(n)){var i=null,r=e._i(n,i);s.checked?r<0&&(e.versionHistory=n.concat([i])):r>-1&&(e.versionHistory=n.slice(0,r).concat(n.slice(r+1)))}else e.versionHistory=a}}}),e._v(" Include version history ")]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.versionHistory,expression:"versionHistory"}],staticClass:"columns"},[n("div",{staticClass:"column is-4"},[n("label",{staticClass:"label"},[e._v("From:")]),n("div",{staticClass:"select"},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.fromDay,expression:"fromDay"}],on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.fromDay=t.target.multiple?n:n[0]}}},[n("option",{attrs:{selected:"",disabled:"",hidden:""}},[e._v("Day")]),e._l(e.maxDays,(function(t){return n("option",{key:t},[e._v(e._s(t))])}))],2)]),n("div",{staticClass:"select"},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.fromMonth,expression:"fromMonth"}],on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.fromMonth=t.target.multiple?n:n[0]}}},[n("option",{attrs:{selected:"",disabled:"",hidden:""}},[e._v("Month")]),e._l(12,(function(t){return n("option",{key:t,domProps:{value:t}},[e._v(" "+e._s(e.getMonth(t))+" ")])}))],2)]),n("div",{staticClass:"select"},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.fromYear,expression:"fromYear"}],attrs:{placeholde:"Year"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.fromYear=t.target.multiple?n:n[0]}}},[n("option",{attrs:{selected:"",disabled:"",hidden:""}},[e._v("Year")]),e._l(2,(function(t){return n("option",{key:t},[e._v(e._s(t+2020))])}))],2)])]),n("div",{staticClass:"column is-4"},[n("label",{staticClass:"label"},[e._v("To:")]),n("div",{staticClass:"select"},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.toDay,expression:"toDay"}],on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.toDay=t.target.multiple?n:n[0]}}},[n("option",{attrs:{selected:"",disabled:"",hidden:""}},[e._v("Day")]),e._l(e.maxDays,(function(t){return n("option",{key:t},[e._v(e._s(t))])}))],2)]),n("div",{staticClass:"select"},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.toMonth,expression:"toMonth"}],on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.toMonth=t.target.multiple?n:n[0]}}},[n("option",{attrs:{selected:"",disabled:"",hidden:""}},[e._v("Month")]),e._l(12,(function(t){return n("option",{key:t,domProps:{value:t}},[e._v(" "+e._s(e.getMonth(t))+" ")])}))],2)]),n("div",{staticClass:"select"},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.toYear,expression:"toYear"}],attrs:{placeholde:"Year"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.toYear=t.target.multiple?n:n[0]}}},[n("option",{attrs:{selected:"",disabled:"",hidden:""}},[e._v("Year")]),e._l(2,(function(t){return n("option",{key:t},[e._v(e._s(t+2020))])}))],2)])])]),n("div",{staticClass:"column is-1"},[n("button",{staticClass:"is-fullwidth button is-success",attrs:{disabled:0===e.selectedFields.length&&!e.allFields},on:{click:e.getResults}},[e._v(" Run ")])])]),n("hr"),n("div",{staticClass:"results"},[n("h1",{staticClass:"title is-4"},[e._v("Results")]),e._l(e.results,(function(t){return n("div",{key:t._id,staticClass:"result"},[n("h4",{staticClass:"title is-5"},[e._v(e._s(t.content.Title))]),e._l(e.askedForFields,(function(s,a){return n("div",{key:s,staticStyle:{"padding-left":"1rem","padding-bottom":"1rem"}},[n("field-render",{attrs:{document:t,field:s,i:a,"from-day":e.fromDay,"from-month":e.fromMonth,"from-year":e.fromYear,"to-day":e.toDay,"to-month":e.toMonth,"to-year":e.toYear,versions:e.versionHistory}})],1)}))],2)}))],2)])},vs=[],hs=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",["text"===e.field.type?n("div",[n("p",{staticClass:"title is-6"},[e._v(e._s(e.document.content[e.field.name]))])]):"select"===e.field.type?n("div",[n("p",{staticClass:"is-6"},[n("b",[e._v(e._s(e.field.name)+":")]),e._v(" "+e._s(e.document.content[e.field.name])+" ")])]):"multiselect"===e.field.type?n("div",[n("h3",{staticClass:"title is-6"},[e._v(e._s(e.field.name))]),n("p",{directives:[{name:"show",rawName:"v-show",value:e.versions,expression:"versions"}],staticClass:"is-7 is-italic"},[e._v(" Published at "+e._s(e.fromDay+"/"+e.fromMonth+"/"+e.fromYear)+" ")]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.versions,expression:"versions"}],staticClass:"tags are-medium"},e._l(e.document.content[e.field.name],(function(t,s){return n("span",{key:s,staticClass:"tag"},[e._v(e._s(t))])})),0),n("p",{directives:[{name:"show",rawName:"v-show",value:e.versions,expression:"versions"}],staticClass:"is-7 is-italic"},[n("b",[e._v("Current: ")]),e._v("Published at "+e._s(e.toDay+"/"+e.toMonth+"/"+e.toYear)+" ")]),n("div",{staticClass:"tags are-medium"},e._l(e.document.content[e.field.name],(function(t,s){return n("span",{key:s,staticClass:"tag"},[e._v(e._s(t))])})),0)]):"block"===e.field.type?n("div",[n("h3",{staticClass:"title is-6"},[e._v(e._s(e.field.name))]),n("p",{directives:[{name:"show",rawName:"v-show",value:e.versions,expression:"versions"}],staticClass:"is-7 is-italic"},[e._v(" Published at "+e._s(e.fromDay+"/"+e.fromMonth+"/"+e.fromYear)+" ")]),n("new-editor",{directives:[{name:"show",rawName:"v-show",value:e.versions,expression:"versions"}],staticStyle:{"padding-left":"20px"},attrs:{editable:!1,content:e.document.content[e.field.name]}}),n("hr",{directives:[{name:"show",rawName:"v-show",value:e.versions,expression:"versions"}]}),n("p",{directives:[{name:"show",rawName:"v-show",value:e.versions,expression:"versions"}],staticClass:"is-7 is-italic"},[n("b",[e._v("Current: ")]),e._v("Published at "+e._s(e.toDay+"/"+e.toMonth+"/"+e.toYear)+" ")]),n("new-editor",{staticStyle:{"padding-left":"20px"},attrs:{editable:!1,content:e.document.content[e.field.name]}})],1):"blocks"===e.field.type?n("div",["Steps"===e.field.name?n("div",[n("p",{directives:[{name:"show",rawName:"v-show",value:e.versions,expression:"versions"}],staticClass:"is-7 is-italic"},[e._v(" Published at "+e._s(e.fromDay+"/"+e.fromMonth+"/"+e.fromYear)+" ")]),e._l(e.document.content[e.field.name],(function(t,s){return n("div",{directives:[{name:"show",rawName:"v-show",value:e.versions,expression:"versions"}],key:s,staticClass:"columns step"},[n("p",{staticClass:"column is-1",attrs:{id:"step-"+s+1}},[n("em",[e._v("Step "+e._s(s+1))])]),n("new-editor",{staticClass:"column is-11",attrs:{editable:!1,content:t}})],1)})),n("p",{directives:[{name:"show",rawName:"v-show",value:!0,expression:"true"}],staticClass:"is-7 is-italic"},[n("b",[e._v("Current: ")]),e._v("Published at "+e._s(e.toDay+"/"+e.toMonth+"/"+e.toYear)+" ")]),e._l(e.document.content[e.field.name],(function(t,s){return n("div",{key:s,staticClass:"columns step"},[n("p",{staticClass:"column is-1",attrs:{id:"step-"+s+1}},[n("em",[e._v("Step "+e._s(s+1))])]),n("new-editor",{staticClass:"column is-11",attrs:{editable:!1,content:t}})],1)}))],2):n("div",[n("h3",{staticClass:"title is-6"},[e._v(e._s(e.field.name))]),n("p",{directives:[{name:"show",rawName:"v-show",value:e.versions,expression:"versions"}],staticClass:"is-7 is-italic"},[e._v(" Published at "+e._s(e.fromDay+"/"+e.fromMonth+"/"+e.fromYear)+" ")]),e._l(e.document.content[e.field.name],(function(t,s){return n("div",{directives:[{name:"show",rawName:"v-show",value:e.versions,expression:"versions"}],key:s,staticClass:"block"},[n("new-editor",{staticStyle:{"padding-left":"20px"},attrs:{editable:!1,content:t}})],1)})),n("p",{directives:[{name:"show",rawName:"v-show",value:!0,expression:"true"}],staticClass:"is-7 is-italic"},[n("b",[e._v("Current: ")]),e._v("Published at "+e._s(e.toDay+"/"+e.toMonth+"/"+e.toYear)+" ")]),e._l(e.document.content[e.field.name],(function(e,t){return n("div",{key:t,staticClass:"block"},[n("new-editor",{staticStyle:{"padding-left":"20px"},attrs:{editable:!1,content:e}})],1)}))],2)]):"data"===e.field.type?n("div",[n("h3",{staticClass:"title is-6"},[e._v(e._s(e.field.name))]),n("table",{staticClass:"table"},[e._m(0),n("tbody",e._l(e.document.content[e.field.name],(function(t,s){return n("tr",{key:s},[n("td",[e._v(e._s(e.alphatise(s+Math.pow(26,e.i))))]),n("td",{staticStyle:{"min-width":"500px"}},[n("new-editor",{attrs:{editable:!1,content:t}})],1)])})),0)])]):e._e()])},fs=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("thead",[n("tr",[n("th",[e._v("Code")]),n("th",[e._v("Description")])])])}],ps={components:{NewEditor:We},props:["field","document","i","toDay","toMonth","toYear","fromDay","fromMonth","fromYear","versions"],methods:{alphatise:function(e){var t=Math.floor(e/676);e-=26*t*26;var n=Math.floor(e/26),s=e-26*n;return String.fromCharCode(65+t,46,65+n,46,65+s)}}},_s=ps,bs=Object(h["a"])(_s,hs,fs,!1,null,null,null),ys=bs.exports,ws={components:{FieldRender:ys},data:function(){return{selected:0,allSchemas:[],selectedFields:[],allFields:!1,content:[],results:[],expanded:!0,showSelects:!1,versionHistory:!1,selectModels:[],selectModelAll:[],toDay:30,fromDay:1,toMonth:1,fromMonth:1,toYear:2022,fromYear:2022}},computed:{maxDays:function(){return 2==this.month?28:1==this.month||3==this.month||5==this.month||7==this.month||8==this.month||10==this.month||12==this.month?31:30},schemaSelects:function(){return this.allSchemas[this.selected].fields.filter((function(e){return"select"==e.type||"multiselect"==e.type}))},schemas:function(){return this.allSchemas.map((function(e){return e.name}))},fields:function(){return this.allSchemas[this.selected].fields.filter((function(e){return"Title"!==e.name}))},askedForFields:function(){return this.allFields?this.fields:this.selectedFields}},created:function(){var e=this;this.allSchemas=window.schemas,this.content=window.baselineContent,this.allSchemas.forEach((function(t,n){t.fields.forEach((function(t){"select"!==t.type&&"multiselect"!==t.type||(void 0===e.selectModels[n]&&(e.$set(e.selectModels,n,{}),e.$set(e.selectModelAll,n,{})),e.$set(e.selectModels[n],t.name,[t.values[0]]),e.$set(e.selectModelAll[n],t.name,!0))}))}))},methods:{getResults:function(){var e=this,t=this.content.filter((function(t){return t.content_type==e.selected+1}));this.results=t,this.expanded=!1},getMonth:function(e){switch(e){case 1:return"January";case 2:return"February";case 3:return"March";case 4:return"April";case 5:return"May";case 6:return"June";case 7:return"July";case 8:return"August";case 9:return"September";case 10:return"October";case 11:return"November";case 12:return"December";default:return"NULL"}}}},Cs=ws,ks=(n("e08c"),Object(h["a"])(Cs,ms,vs,!1,null,null,null)),gs=ks.exports,xs=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"content"},[n("pre",[e._v(e._s(e.content))])])},As=[],Ss={data:function(){return{content:"",editorText:""}},created:function(){this.content=window.schemas}},Ts=Ss,Ps=Object(h["a"])(Ts,xs,As,!1,null,null,null),Ds=Ps.exports,$s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"columns"},[n("aside",{staticClass:"menu column is-2"},[n("p",{staticClass:"menu-label"},[e._v("Fields")]),n("ul",{staticClass:"menu-list"},e._l(e.currentSchema.fields,(function(t,s){return n("li",{key:s},[n("a",{attrs:{href:"#"+t.name}},[e._v(e._s(t.name))])])})),0)]),n("section",{staticClass:"column is-10 content",attrs:{id:"add"}},[n("div",{staticClass:"block buttons"},[e.cancel?n("button",{staticClass:"button",on:{click:e.cancelEdit}},[e._v(" Cancel ")]):e._e(),e.save?n("button",{staticClass:"button is-primary",on:{click:e.saveDocument}},[e._v(" Save ")]):e._e(),e.publish?n("button",{staticClass:"button is-success is-outlined",on:{click:e.publishDocument}},[e._v(" Publish ")]):e._e(),e.create?n("button",{staticClass:"button is-primary",on:{click:e.createDocument}},[e._v(" Create ")]):e._e()]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.saved,expression:"saved"}],staticClass:"message",class:{"is-success":e.saved,"is-danger":!e.saved}},[n("div",{staticClass:"message-body"},[e._v(" "+e._s(this.saved?"Saved successfully":"Could not save")+" ")])]),n("div",{staticClass:"field"},[n("label",{staticClass:"label"},[e._v("Content Type")]),n("div",{staticClass:"select is-fullwidth"},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.content_type,expression:"content_type"}],attrs:{disabled:e.document.version>1,id:"type is-primary"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.content_type=t.target.multiple?n:n[0]}}},e._l(e.content_types,(function(t,s){return n("option",{key:s,domProps:{value:s}},[e._v(" "+e._s(t)+" ")])})),0)])]),n("div",{staticClass:"field"},[n("label",{staticClass:"label"},[e._v("Approver")]),n("div",{staticClass:"select is-fullwidth"},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.owner,expression:"owner"}],attrs:{id:"type is-primary"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.owner=t.target.multiple?n:n[0]}}},e._l(e.users,(function(t,s){return n("option",{key:s,domProps:{value:s}},[e._v(" "+e._s(t)+" ")])})),0)])]),e._l(e.currentSchema.fields,(function(t,s){return n("div",{key:s,staticClass:"field",attrs:{id:t.name}},[n("label",{staticClass:"label"},[e._v(e._s(t.name))]),"text"===t.type?n("input",{directives:[{name:"model",rawName:"v-model",value:e.forms[e.content_type][t.name],expression:"forms[content_type][field.name]"}],staticClass:"input",attrs:{id:"title"},domProps:{value:e.forms[e.content_type][t.name]},on:{input:function(n){n.target.composing||e.$set(e.forms[e.content_type],t.name,n.target.value)}}}):"block"==t.type?n("div",[n("new-editor",{attrs:{definitions:e.titles,content:e.forms[e.content_type][t.name],"editor-text":e.editorText,active:s==e.currBlock},on:{"update:content":function(n){return e.$set(e.forms[e.content_type],t.name,n)},"update:editorText":function(t){e.editorText=t},"update:editor-text":function(t){e.editorText=t},activated:function(t){e.currBlock=s}}})],1):"select"==t.type?n("div",{staticClass:"select"},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.forms[e.content_type][t.name],expression:"forms[content_type][field.name]"}],on:{change:function(n){var s=Array.prototype.filter.call(n.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.forms[e.content_type],t.name,n.target.multiple?s:s[0])}}},e._l(t.values,(function(t){return n("option",{key:t},[e._v(" "+e._s(t)+" ")])})),0)]):"blocks"==t.type?n("div",e._l(e.forms[e.content_type][t.name],(function(s,a){return n("div",{key:a,attrs:{num:a}},[n("new-editor",{attrs:{definitions:e.titles,content:e.forms[e.content_type][t.name][a],"editor-text":e.editorText,active:a==e.currBlock,"show-delete":e.forms[e.content_type][t.name].length>1},on:{"update:content":function(n){return e.$set(e.forms[e.content_type][t.name],a,n)},"update:editorText":function(t){e.editorText=t},"update:editor-text":function(t){e.editorText=t},activated:function(t){e.currBlock=a},delete:function(n){return e.deleteBlock(t.name,a)}}}),n("button",{directives:[{name:"show",rawName:"v-show",value:a==e.currBlock,expression:"j == currBlock"}],staticClass:"button is-fullwidth is-info add-block-button",on:{click:function(n){return e.addBlock(t.name,a)}}},[e._v(" Add Block ")])],1)})),0):"multiselect"===t.type?n("div",[n("multi-select",{attrs:{selected:e.forms[e.content_type][t.name],values:t.values},on:{"update:selected":function(n){return e.$set(e.forms[e.content_type],t.name,n)}}})],1):"data"==t.type?n("div",[n("table",{staticClass:"table"},[e._m(0,!0),n("tbody",e._l(e.forms[e.content_type][t.name],(function(a,i){return n("tr",{key:i},[n("td",[e._v(e._s(e.alphatise(i+Math.pow(26,s-1))))]),n("td",[n("new-editor",{attrs:{num:s,document_id:e.document_id,definitions:e.titles,content:e.forms[e.content_type][t.name][i],"editor-text":e.editorText,active:i==e.currBlock&&t.name==e.currRes},on:{"update:content":function(n){return e.$set(e.forms[e.content_type][t.name],i,n)},"update:editorText":function(t){e.editorText=t},"update:editor-text":function(t){e.editorText=t},activated:function(n){e.currBlock=i,e.currField=t.name}}})],1)])})),0)]),n("button",{staticClass:"button is-fullwidth is-info add-block-button",on:{click:function(n){return e.addBlock(t.name)}}},[e._v(" Add "+e._s(t.name)+" ")])]):n("div",[e._v(e._s(t)+", "+e._s(s))])])}))],2)]),n("section",{staticClass:"content"},[n("pre",[e._v(e._s(e.gotDoc))])])])},Es=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("thead",[n("tr",[n("th",[e._v("Code")]),n("th",{staticStyle:{"min-width":"995px"}},[e._v("Description")])])])}];function Ms(e,t,n,s,a,i,r){try{var o=e[i](r),c=o.value}catch(l){return void n(l)}o.done?t(c):Promise.resolve(c).then(s,a)}function Ns(e){return function(){var t=this,n=arguments;return new Promise((function(s,a){var i=e.apply(t,n);function r(e){Ms(i,s,a,r,o,"next",e)}function o(e){Ms(i,s,a,r,o,"throw",e)}r(void 0)}))}}function Os(e){return Ls(e)||js(e)||Rs(e)||Is()}function Is(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Rs(e,t){if(e){if("string"===typeof e)return Bs(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Bs(e,t):void 0}}function js(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Ls(e){if(Array.isArray(e))return Bs(e)}function Bs(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}var Us={components:{NewEditor:We,MultiSelect:yn},props:{cancel:{},create:{default:!1},save:{},publish:{},document_id:{default:1}},data:function(){return{document:{_id:1,version:1,owner_id:0,content_type:1,created_at:"2022-02-07T12:14:07.700969Z",published_at:"2022-02-07T12:14:07.700969Z",draft:!0,content:{Definition:{type:"doc",content:[{type:"paragraph",content:[{type:"text",text:"Approval from the wife required"}]}]},Title:"Level 2"}},schemas:[],content_type:0,owner:-1,users:["User Name","Aldous Huxley","George Orwell","Ernest Hemingway","Virginia Wolff"],saved:null,editorText:"",titles:[],forms:[],currBlock:0,currRes:""}},computed:{currentSchema:function(){return this.schemas.length>0?this.schemas[this.content_type]:null},content_types:function(){return this.schemas.length>0?this.schemas.map((function(e){return e.name})):null},gotDoc:function(){return this.grabContent()}},methods:{createRefs:function(e){var t=this;e.forEach((function(e,n){t.forms[n]||t.$set(t.forms,n,{}),e.fields.forEach((function(e){switch(e.type){case"text":case"select":case"block":t.$set(t.forms[n],e.name,"");break;case"data":case"blocks":t.$set(t.forms[n],e.name,[""]);break;case"multiselect":t.$set(t.forms[n],e.name,[]);break}}))}))},setForm:function(e){var t=this;Object.keys(e.content).forEach((function(n){t.$set(t.forms[t.content_type],n,e.content[n])}))},alphatise:function(e){var t=Math.floor(e/676);e-=26*t*26;var n=Math.floor(e/26),s=e-26*n;return String.fromCharCode(65+t,46,65+n,46,65+s)},addBlock:function(e,t){if(void 0!==t){var n=this.forms[this.content_type][e],s=n.slice(0,t+1);s.push.apply(s,[""].concat(Os(n.slice(t+1)))),this.forms[this.content_type][e]=s,this.currBlock=t+1}else this.forms[this.content_type][e].push("")},deleteBlock:function(e,t){this.forms[this.content_type][e].splice(t,1)},grabContent:function(){return{id:this.document_id,version:this.document.version,content_type:this.content_type+1,owner_id:this.owner,content:this.forms[this.content_type]}},saveDocument:function(){var e=this;return Ns(r.a.mark((function t(){var n;return r.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,n=e.grabContent(),t.next=4,o["a"].put(e.API_URL+"/doc/"+e.document_id+"/draft",n);case 4:e.saved=!0,e.$emit("saved"),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),e.saved=!1;case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()},createDocument:function(){var e=this;return Ns(r.a.mark((function t(){var n;return r.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.grabContent(),t.next=3,o["a"].post(e.API_URL+"/doc",n);case 3:e.$emit("created");case 4:case"end":return t.stop()}}),t)})))()},publishDocument:function(){var e=this;return Ns(r.a.mark((function t(){var n;return r.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.grabContent(),n.search=n.content.Title+"\n\n"+e.editorText,t.next=4,o["a"].put(e.API_URL+"/doc/"+e.document_id,n);case 4:e.$emit("published");case 5:case"end":return t.stop()}}),t)})))()},cancelEdit:function(){this.$router.go(-1)}},created:function(){var e=this;return Ns(r.a.mark((function t(){return r.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.schemas=window.schemas,t.next=3,o["a"].get(e.API_URL+"/titles");case 3:if(e.titles=t.sent,!e.create){t.next=6;break}return t.abrupt("return");case 6:e.content_type=e.document.content_type-1,e.createRefs(e.schemas),e.setForm(e.document),e.owner=e.document.owner_id;case 10:case"end":return t.stop()}}),t)})))()}},Hs=Us,qs=Object(h["a"])(Hs,$s,Es,!1,null,null,null),Fs=qs.exports,Vs=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{domProps:{innerHTML:e._s(e.diff)}})},Ys=[],Ws={data:function(){return{diff:""}},created:function(){this.diff=window.diffHTML}},Gs=Ws,zs=(n("6ef2"),Object(h["a"])(Gs,Vs,Ys,!1,null,null,null)),Js=zs.exports,Ks=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"columns"},[n("section",{staticClass:"column is-10 content",attrs:{id:"add"}},[n("div",{staticClass:"block buttons"},[e.cancel?n("button",{staticClass:"button",on:{click:e.cancelEdit}},[e._v(" Cancel ")]):e._e(),e.save?n("button",{staticClass:"button is-primary",on:{click:e.saveDocument}},[e._v(" Save ")]):e._e(),e.publish?n("button",{staticClass:"button is-success is-outlined",on:{click:e.publishDocument}},[e._v(" Publish ")]):e._e(),e.create?n("button",{staticClass:"button is-primary",on:{click:e.createDocument}},[e._v(" Create ")]):e._e()]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.saved,expression:"saved"}],staticClass:"message",class:{"is-success":e.saved,"is-danger":!e.saved}},[n("div",{staticClass:"message-body"},[e._v(" "+e._s(this.saved?"Saved successfully":"Could not save")+" ")])]),n("div",{staticClass:"field"},[n("label",{staticClass:"label"},[e._v("Content Type")]),n("div",{staticClass:"select is-fullwidth"},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.selectionIdx,expression:"selectionIdx"}],attrs:{id:"type is-primary"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectionIdx=t.target.multiple?n:n[0]}}},e._l(e.selections,(function(t,s){return n("option",{key:s,domProps:{value:s}},[e._v(" "+e._s(t)+" ")])})),0)])]),n("label",{staticClass:"checkbox"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.currentSchema.Tab,expression:"currentSchema.Tab"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.currentSchema.Tab)?e._i(e.currentSchema.Tab,null)>-1:e.currentSchema.Tab},on:{change:function(t){var n=e.currentSchema.Tab,s=t.target,a=!!s.checked;if(Array.isArray(n)){var i=null,r=e._i(n,i);s.checked?r<0&&e.$set(e.currentSchema,"Tab",n.concat([i])):r>-1&&e.$set(e.currentSchema,"Tab",n.slice(0,r).concat(n.slice(r+1)))}else e.$set(e.currentSchema,"Tab",a)}}}),e._v(" Tabs ")]),e.currentSchema.Tab?n("div",{staticClass:"tabs"},[n("ul",[e._l(e.currentSchema.Data,(function(t,s){return n("li",{key:s,class:{"is-active":s==e.currTab},on:{click:function(t){e.currTab=s}}},[n("a",[e._v(e._s(t.tabName))])])})),n("li",[n("a",{on:{click:e.addTab}},[e._v("Add")])])],2)]):e._e(),3==e.selectionIdx?n("div",{staticClass:"field"},[e._l(e.currentSchema.Data,(function(t,s){return n("div",{key:s,staticClass:"field columns"},[n("div",{staticClass:"column is-1"},[e._v(e._s(s+1))]),n("div",{staticClass:"column is-11"},[n("label",{staticClass:"label"},[e._v("Author")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.author,expression:"step.author"}],staticClass:"input",attrs:{id:"title"},domProps:{value:t.author},on:{input:function(n){n.target.composing||e.$set(t,"author",n.target.value)}}}),n("new-editor",{attrs:{active:!0,content:t.value},on:{"update:content":function(n){return e.$set(t,"value",n)}}})],1)])})),n("button",{staticClass:"button",on:{click:e.addStep}},[e._v("Add step")])],2):2==e.selectionIdx?n("div",{staticClass:"field"},[n("div",{staticClass:"field"},[n("label",{staticClass:"label"},[e._v("Tab name")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.currentTab.tabName,expression:"currentTab.tabName"}],staticClass:"input",attrs:{id:"title"},domProps:{value:e.currentTab.tabName},on:{input:function(t){t.target.composing||e.$set(e.currentTab,"tabName",t.target.value)}}})]),e._l(e.currentTab.value,(function(t,s){return n("div",{key:s,staticClass:"field"},[n("label",{staticClass:"label"},[e._v("Section Title")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"sec.title"}],staticClass:"input field",attrs:{id:"title"},domProps:{value:t.title},on:{input:function(n){n.target.composing||e.$set(t,"title",n.target.value)}}}),n("label",{staticClass:"label"},[e._v("Section Content")]),n("new-editor",{attrs:{active:!0,content:t.content},on:{"update:content":function(n){return e.$set(t,"content",n)}}})],1)}))],2):n("div",{staticClass:"field"},[n("div",{staticClass:"field"},[n("label",{staticClass:"label"},[e._v("Tab name")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.currentTab.tabName,expression:"currentTab.tabName"}],staticClass:"input",attrs:{id:"title"},domProps:{value:e.currentTab.tabName},on:{input:function(t){t.target.composing||e.$set(e.currentTab,"tabName",t.target.value)}}})]),n("div",{staticClass:"field"},[n("new-editor",{attrs:{active:!0,content:e.currentTab.value},on:{"update:content":function(t){return e.$set(e.currentTab,"value",t)}}})],1),n("button",{staticClass:"button",on:{click:e.addSection}},[e._v("Add section")])])])]),n("button",{staticClass:"button is-success",on:{click:e.copy}},[e._v("Copy to clipboard")]),n("section",{staticClass:"content"},[n("pre",{ref:"output"},[e._v(e._s(e.currentSchema))])])])},Zs=[],Qs={components:{NewEditor:We},props:{cancel:{},create:{default:!1},save:{},publish:{},document_id:{default:1}},data:function(){return{test:"",currTab:0,selections:["Strategy, Resource, Product","ICS","Standard","Process"],selectionIdx:0,doc:{Tab:!1,StandardContent:!1,Data:[{id:"1",tabName:"",value:""}]},document:{_id:1,Tabs:!1,version:1,owner_id:0,content_type:1,created_at:"2022-02-07T12:14:07.700969Z",published_at:"2022-02-07T12:14:07.700969Z",draft:!0,content:{Definition:{type:"doc",content:[{type:"paragraph",content:[{type:"text",text:"Approval from the wife required"}]}]},Title:"Level 2"}},schemas:[{Tab:!1,Data:[{id:"1",tabName:"",value:""}]},{Tab:!1,Data:[{id:"1",tabName:"",value:""}]},{Tab:!0,StandardContent:!0,Data:[{id:"1",tabName:"Standards",value:[{contentId:"1",title:"",content:""}]}]},{Tab:!1,Data:[{id:"1",author:"",value:""}]}],saved:null,editorText:"",titles:[],forms:[],currBlock:0,currRes:""}},methods:{addStep:function(){this.currentSchema.Data.push({id:"".concat(Math.ceil(1e4*Math.random())),author:"",value:""})},addTab:function(){var e="";this.currentSchema.StandardContent&&(e=[{id:"".concat(Math.ceil(1e4*Math.random())),title:"",content:""}]),this.schemas[this.selectionIdx].Data.push({id:"".concat(Math.ceil(1e4*Math.random())),tabName:"",value:e})},addSection:function(){this.currentSchema.StandardContent&&this.currentTab.value.push({id:"".concat(Math.ceil(1e4*Math.random())),title:"",content:""})},createRefs:function(e){var t=this;e.forEach((function(e,n){t.forms[n]||t.$set(t.forms,n,{}),e.fields.forEach((function(e){switch(e.type){case"text":case"select":case"block":t.$set(t.forms[n],e.name,"");break;case"data":case"blocks":t.$set(t.forms[n],e.name,[""]);break;case"multiselect":t.$set(t.forms[n],e.name,[]);break}}))}))},copy:function(){navigator.clipboard.writeText(this.$refs.output.innerText)}},computed:{currentSchema:function(){return this.schemas[this.selectionIdx]},currentTab:function(){return this.currentSchema.Tab?this.currentSchema.Data[this.currTab]:this.currentSchema.Data[0]}},watch:{currTab:function(e){console.log(e)}}},Xs=Qs,ea=Object(h["a"])(Xs,Ks,Zs,!1,null,null,null),ta=ea.exports;function na(e){return ra(e)||ia(e)||aa(e)||sa()}function sa(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function aa(e,t){if(e){if("string"===typeof e)return oa(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?oa(e,t):void 0}}function ia(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function ra(e){if(Array.isArray(e))return oa(e)}function oa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}var ca=window.schemas.map((function(e,t){var n=e.name.toLowerCase().replaceAll(" ","_");return{path:"/"+n,name:e.nickname||e.name,component:k,props:function(){return{content_type:t,title:e.name,block_type:n}}}})),la=[{path:"/",component:ta},{path:"/search",component:$}].concat(na(ca),[{path:"/reports",component:gs},{name:"thedoc",path:"/docs/:document_id",component:Ut,props:function(e){return{document_id:e.params.document_id}}},{path:"/docs/:document_id/versions",component:en,props:function(e){return{document_id:e.params.document_id}}},{path:"/docs/:document_id/versions/:version_id",component:Yn,props:function(e){return{document_id:e.params.document_id,version_id:e.params.version_id}}},{path:"/drafts",component:L},{path:"/drafts/:document_id",component:jn,props:function(e){return{document_id:e.params.document_id,cancel:!0,save:!0,publish:!0}}},{path:"/schemas",component:ds},{path:"/editing",component:En},{path:"/admin",component:Xn},{path:"/migrate",component:ta},{path:"/easysch",component:Ds},{path:"/easy",component:Fs},{path:"/diff",component:Js}])},"452d":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);var s=n("2b0e"),a=n("8c4f"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"column is-12",attrs:{id:"app"}},[n("header",{staticClass:"columns"},[n("div",{staticClass:"column is-9"},[n("router-link",{attrs:{to:"/"}},[n("h1",{staticClass:"title"},[e._v("Demo")])])],1),n("div",{staticClass:"column is-3"},[e.loggedIn?n("div",{staticClass:"dropdown",class:{"is-active":e.showRole},on:{mouseover:function(t){e.showRole=!0},mouseleave:function(t){e.showRole=!1}}},[n("div",{staticClass:"dropdown-trigger"},[n("button",{staticClass:"button",attrs:{"aria-haspopup":"true","aria-controls":"dropdown-menu"}},[n("span",[e._v(e._s(e.roles[e.currRole]))]),e._m(0)])]),n("div",{staticClass:"dropdown-menu",attrs:{id:"dropdown-menu",role:"menu"}},[n("div",{staticClass:"dropdown-content"},e._l(e.roles,(function(t,s){return n("a",{key:t,staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(t){return e.selectRole(s)}}},[e._v(e._s(t))])})),0)])]):e._e(),e.loggedIn?n("div",{staticClass:"dropdown",class:{"is-active":e.showLogout},staticStyle:{"margin-left":"10px"},on:{mouseover:function(t){e.showLogout=!0},mouseleave:function(t){e.showLogout=!1}}},[e._m(1),n("div",{staticClass:"dropdown-menu",attrs:{id:"dropdown-menu",role:"menu"}},[n("div",{staticClass:"dropdown-content"},[n("a",{staticClass:"dropdown-item",attrs:{href:"#"}},[e._v("Profile")]),n("router-link",{staticClass:"dropdown-item",attrs:{to:"/easy"}},[e._v("Content")]),n("router-link",{staticClass:"dropdown-item",attrs:{to:"/easysch"}},[e._v("Schemas")]),n("a",{staticClass:"dropdown-item",on:{click:e.resetApp}},[e._v("Reset App")]),n("hr",{staticClass:"dropdown-divider"}),n("a",{staticClass:"dropdown-item",on:{click:function(t){e.loggedIn=!1,e.current_user_id=1e3}}},[e._v("Logout")])],1)])]):e._e()])]),n("div",{staticClass:"tabs"},[n("ul",e._l(e.tabs,(function(t,s){return n("router-link",{key:s,attrs:{to:t.path,"active-class":"is-active",tag:"li"}},[n("a",[e._v(e._s(t.name))])])})),1)]),n("router-view",{attrs:{"user-role":e.roles[e.currRole],logged:e.loggedIn,current_user:e.current_user_id}})],1)},r=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{staticClass:"icon is-small"},[n("i",{staticClass:"fas fa-angle-down",attrs:{"aria-hidden":"true"}})])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"dropdown-trigger"},[n("button",{staticClass:"button",attrs:{"aria-haspopup":"true","aria-controls":"dropdown-menu"}},[n("span",[e._v("Hi User")]),n("span",{staticClass:"icon is-small"},[n("i",{staticClass:"fas fa-angle-down",attrs:{"aria-hidden":"true"}})])])])}],o=n("199c"),c=o["a"],l=n("2877"),u=Object(l["a"])(c,i,r,!1,null,null,null),d=u.exports,m=n("41cb");n("0c6e");var v=window.schemas.map((function(e,t){return{id:t+1,name:e.name,description:""}})),h=[];v.forEach((function(e){return h[e.id]=e.name.toLowerCase()}));window.baselineContent,window.baselineLinks;s["a"].config.productionTip=!1,s["a"].use(a["a"]),s["a"].prototype.API_URL="https://compass-demo-test.herokuapp.com",s["a"].prototype.APP_DOMAIN="https://compass-demo-test.herokuapp.com";var f=new a["a"]({routes:m["b"]});new s["a"]({render:function(e){return e(d)},router:f}).$mount("#app")},"57bd":function(e,t,n){},"588a":function(e,t,n){},"5b8b":function(e,t,n){"use strict";n("8b98")},"65da":function(e,t,n){},"6ef2":function(e,t,n){"use strict";n("452d")},"7c05":function(e,t,n){},"7c0e":function(e,t,n){},"8b98":function(e,t,n){},b200:function(e,t,n){},ba6a:function(e,t,n){"use strict";var s=n("a34a"),a=n.n(s);function i(e,t,n,s,a,i,r){try{var o=e[i](r),c=o.value}catch(l){return void n(l)}o.done?t(c):Promise.resolve(c).then(s,a)}function r(e){return function(){var t=this,n=arguments;return new Promise((function(s,a){var r=e.apply(t,n);function o(e){i(r,s,a,o,c,"next",e)}function c(e){i(r,s,a,o,c,"throw",e)}o(void 0)}))}}t["a"]={get:function(e){return r(a.a.mark((function t(){var n,s;return a.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch(e,{credentials:"include"});case 2:return n=t.sent,t.next=5,n.json();case 5:return s=t.sent,t.abrupt("return",Promise.resolve(s));case 7:case"end":return t.stop()}}),t)})))()},post:function(e,t){return r(a.a.mark((function n(){var s,i;return a.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,fetch(e,{method:"POST",body:JSON.stringify(t),credentials:"include"});case 2:return s=n.sent,n.next=5,s.json();case 5:return i=n.sent,n.abrupt("return",Promise.resolve(i));case 7:case"end":return n.stop()}}),n)})))()},put:function(e,t){return r(a.a.mark((function n(){var s,i;return a.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,fetch(e,{method:"PUT",body:JSON.stringify(t),credentials:"include"});case 2:return s=n.sent,n.next=5,s.json();case 5:return i=n.sent,n.abrupt("return",Promise.resolve(i));case 7:case"end":return n.stop()}}),n)})))()},delete:function(e){return r(a.a.mark((function t(){return a.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch(e,{method:"DELETE",credentials:"include"});case 2:return t.abrupt("return",Promise.resolve());case 3:case"end":return t.stop()}}),t)})))()}}},cec0:function(e,t,n){"use strict";n("b200")},e08c:function(e,t,n){"use strict";n("27c2")},efeb:function(e,t,n){"use strict";n("588a")},f284:function(e,t,n){"use strict";n("7c05")},f62b:function(e,t,n){"use strict";n("65da")},f7b7:function(e,t,n){"use strict";n("2d04")}});
//# sourceMappingURL=app.ae1df0d8.js.map